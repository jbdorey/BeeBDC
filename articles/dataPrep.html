<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>BeeBDC data prep. • BeeBDC</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="BeeBDC data prep.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">BeeBDC</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.3.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../index.html" aria-label="Go to package home"><span class="fa fa-home"></span></a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html" aria-label="Function list"><span class="fa fas fa-r"></span> Functions</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-occurrence-cleaning" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Occurrence data cleaning vignettes"><span class="fa fas fa-broom"></span> Occurrence cleaning</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-occurrence-cleaning">
<li><a class="dropdown-item" href="../articles/BeeBDC_main.html">BeeBDC full cleaning workflow (0.0–9.0)</a></li>
    <li><a class="dropdown-item" href="../articles/basic_workflow.html">BeeBDC basic workflow</a></li>
    <li><a class="dropdown-item" href="../articles/dataPrep.html">Bee-specific data preparation</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-species-richness-estimation" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Species richness estimation vignettes"><span class="fa fas fa-arrow-up-right-dots"></span> Species richness estimation</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-species-richness-estimation">
<li><a class="dropdown-item" href="../articles/speciesRichness_example.html">BeeBDC richness estimation</a></li>
    <li><a class="dropdown-item" href="../articles/speciesRichness_example.html#Parallel-estimations">  1.0 Parallel estimation</a></li>
    <li><a class="dropdown-item" href="../articles/speciesRichness_example.html#Estimating-richness-from-the-known-unknowns">  2.0 Estimation with checklists</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="https://jbdorey.github.io/BeeBDC/news/index.html"><span class="fa fas fa-newspaper"></span> News</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/jbdorey/BeeBDC/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>BeeBDC data prep.</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/jbdorey/BeeBDC/blob/main/vignettes/articles/dataPrep.Rmd" class="external-link"><code>vignettes/articles/dataPrep.Rmd</code></a></small>
      <div class="d-none name"><code>dataPrep.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="section">
<a href="https://github.com/jbdorey/BeeBDC" class="external-link"><img src="https://photos.smugmug.com/photos/i-MpLFKTT/0/741daa6d/X4/i-MpLFKTT-X4.png" alt="BeeBDC logo of a cuckoo bee sweeping up occurrence records in South America" align="right" width="155"></a><a class="anchor" aria-label="anchor" href="#section"></a>
</h2>
</div>
<div class="section level2">
<h2 id="script-preparation">0.0 Script preparation<a class="anchor" aria-label="anchor" href="#script-preparation"></a>
</h2>
<div class="section level3">
<h3 id="working-directory">0.1 Working directory<a class="anchor" aria-label="anchor" href="#working-directory"></a>
</h3>
<p>To start off with, have a think about where you want to work from.
<strong>BeeBDC</strong> and <strong>bdc</strong> can create quite a few
files and so setting this up well from the start is a good idea. If you
are afraid that you might run out of storage, this could also be on a
hard drive; but you can always change that later. Defining your RootPath
at the top of your script, only once, shoudl make your life easier.</p>
<p>Choose the path to the root folder in which all other folders can be
found.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">RootPath</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"/your/path/here"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create the working directory in the RootPath if it doesn't exist already</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.exists</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">RootPath</span>, <span class="st">"/Data_acquisition_workflow"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.create</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">RootPath</span>, <span class="st">"/Data_acquisition_workflow"</span><span class="op">)</span>, recursive <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="co"># Set the working directory</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">setwd</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">RootPath</span>, <span class="st">"/Data_acquisition_workflow"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="install-packages-if-needed">0.2 Install packages (if needed)<a class="anchor" aria-label="anchor" href="#install-packages-if-needed"></a>
</h3>
<blockquote>
<h4 id="is-this-your-first-time-using-the-sf-or-terra-packages">Is this
your first time using the <em>sf</em> or <em>terra</em> packages?</h4>
<p>The first time that you use <strong>terra</strong> or
<strong>sf</strong> on a new computer you may need to install some
dependencies. Try to install the <strong>terra</strong> and
<strong>sf</strong> packages first but then come back here if that
doesn’t work.</p>
<h6 id="windows">Windows:</h6>
<p>On <strong>Windows</strong>, you need to first install <a href="https://cran.r-project.org/bin/windows/Rtools/" class="external-link">Rtools</a> to get
a C++ compiler that <strong>R</strong> can use. You need a recent
version of <strong>Rtools42</strong> (rtools42-5355-5357).</p>
<h6 id="macos">MacOS:</h6>
<p>On <strong>macOS</strong>, you can use <a href="https://www.macports.org/" class="external-link">MacPorts</a> or <a href="https://brew.sh/" class="external-link">Homebrew</a>.</p>
<p>With <strong>MacPorts</strong> you can do</p>
<p><code>sudo port install R-terra</code></p>
<p>With <strong>Homebrew</strong>, you need to first install GDAL:</p>
<p><code>brew install pkg-config</code></p>
<p><code>brew install gdal</code></p>
<p>Followed by (note the additional configuration argument needed for
Homebrew)</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Install terra</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"terra"</span>, type <span class="op">=</span> <span class="st">"source"</span>, configure.args <span class="op">=</span> <span class="st">"--with-proj-lib=$(brew --prefix)/lib/"</span><span class="op">)</span></span>
<span><span class="co"># install sf</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"sf"</span>, type <span class="op">=</span> <span class="st">"source"</span>, configure.args <span class="op">=</span> <span class="st">"--with-proj-lib=$(brew --prefix)/lib/"</span><span class="op">)</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rspatial.org/" class="external-link">terra</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/" class="external-link">sf</a></span><span class="op">)</span></span></code></pre></div>
</blockquote>
<p>If you have <strong>sf</strong> and <strong>terra</strong> isntalled,
you can now install <strong>BeeBDC</strong>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"BeeBDC"</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://jbdorey.github.io/BeeBDC/">BeeBDC</a></span><span class="op">)</span></span></code></pre></div>
<p><strong>BeeBDC</strong> also has a few optional packages that are
required for a subset of the functions. You don’t need to isntall these
now, if you don’t want to, but you can do so later!</p>
<p>You can optionally install <strong>BiocManager</strong>,
<strong>devtools</strong>, <strong>ComplexHeatmap</strong>,
<strong>rnaturalearthhires</strong>, and <strong>taxadb</strong> or do
it later as you wish.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="st"><a href="https://bioconductor.github.io/BiocManager/" class="external-link">"BiocManager"</a></span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"BiocManager"</span>, repos <span class="op">=</span> <span class="st">"http://cran.us.r-project.org"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">BiocManager</span><span class="fu">::</span><span class="fu"><a href="https://bioconductor.github.io/BiocManager/reference/install.html" class="external-link">install</a></span><span class="op">(</span><span class="st">"ComplexHeatmap"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Install remotes if needed</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="st"><a href="https://remotes.r-lib.org" class="external-link">"remotes"</a></span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"remotes"</span>, repos <span class="op">=</span> <span class="st">"http://cran.us.r-project.org"</span><span class="op">)</span></span>
<span><span class="co"># Download and then load rnaturalearthhires</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"ropensci/rnaturalearthhires"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"rnaturalearthhires"</span>, repos <span class="op">=</span> <span class="st">"https://ropensci.r-universe.dev"</span>,</span>
<span>    type <span class="op">=</span> <span class="st">"source"</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">rnaturalearthhires</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"taxadb"</span><span class="op">)</span></span></code></pre></div>
<p>Set up the directories used by <strong>BeeBDC</strong>. These
directories include where the data, figures, reports, etc. will be
saved. The RDoc needs to be a path RELATIVE to the RootPath; i.e., the
file path from which the two diverge.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">BeeBDC</span><span class="fu">::</span><span class="fu"><a href="../reference/dirMaker.html">dirMaker</a></span><span class="op">(</span>RootPath <span class="op">=</span> <span class="va">RootPath</span>, RDoc <span class="op">=</span> <span class="st">"vignettes/BeeBDC_main.Rmd"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="co"># Add paths created by this function to the environment()</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/list2env.html" class="external-link">list2env</a></span><span class="op">(</span>envir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/environment.html" class="external-link">parent.env</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/environment.html" class="external-link">environment</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="load-packages">0.3 Load packages<a class="anchor" aria-label="anchor" href="#load-packages"></a>
</h3>
<p>Let’s go ahead and load our packages before we start!</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ComplexHeatmap"</span>, <span class="st">"magrittr"</span><span class="op">)</span>, <span class="va">library</span>, character.only <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">## Loading required package: grid</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Attaching package: 'grid'</span></span>
<span><span class="co">## The following object is masked from 'package:terra':</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##     depth</span></span>
<span><span class="co">## ========================================</span></span>
<span><span class="co">## ComplexHeatmap version 2.24.1</span></span>
<span><span class="co">## Bioconductor page: http://bioconductor.org/packages/ComplexHeatmap/</span></span>
<span><span class="co">## Github page: https://github.com/jokergoo/ComplexHeatmap</span></span>
<span><span class="co">## Documentation: http://jokergoo.github.io/ComplexHeatmap-reference</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## If you use it in published research, please cite either one:</span></span>
<span><span class="co">## - Gu, Z. Complex Heatmap Visualization. iMeta 2022.</span></span>
<span><span class="co">## - Gu, Z. Complex heatmaps reveal patterns and correlations in multidimensional </span></span>
<span><span class="co">##     genomic data. Bioinformatics 2016.</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## The new InteractiveComplexHeatmap package can directly export static </span></span>
<span><span class="co">## complex heatmaps into an interactive Shiny app with zero effort. Have a try!</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## This message can be suppressed by:</span></span>
<span><span class="co">##   suppressPackageStartupMessages(library(ComplexHeatmap))</span></span>
<span><span class="co">## ========================================</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Attaching package: 'ComplexHeatmap'</span></span>
<span><span class="co">## The following object is masked from 'package:terra':</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##     draw</span></span>
<span><span class="co">## The following object is masked from 'package:R.utils':</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##     draw</span></span></code></pre></div>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="data-merge">1.0 Data merge<a class="anchor" aria-label="anchor" href="#data-merge"></a>
</h2>
<div class="alert alert-info">
<p><strong> Attention:</strong> <br> Although each line of code has been
validated, in order to save time knitting the R
<strong>markdown</strong> document the next section is display only. If
you are not data merging (section 1.0) or preparing the data (section
2.0), feel free to skip to Section 3.0 Initial flags.</p>
</div>
<div class="section level3">
<h3 id="download-ala-data">1.1 Download ALA data<a class="anchor" aria-label="anchor" href="#download-ala-data"></a>
</h3>
<p>If you’re interested in using data from the <em>Atlas of Living
Australia (ALA)</em> or one of the other Atlas repositories, you can use
<code><a href="../reference/atlasDownloader.html">BeeBDC::atlasDownloader()</a></code> below to access and download
those files and their metadata easily enough. You may, however, need to
ensure that you have an account that you can link to the download.
Especially fo the sake of a doi.</p>
<p>To make an account with ALA in order to download your data visit this
link — <a href="https://auth.ala.org.au/userdetails/registration/createAccount" class="external-link uri">https://auth.ala.org.au/userdetails/registration/createAccount</a></p>
<pre><code><span>  <span class="fu">BeeBDC</span><span class="fu">::</span><span class="fu"><a href="../reference/atlasDownloader.html">atlasDownloader</a></span><span class="op">(</span>path <span class="op">=</span> <span class="va">DataPath</span>,</span>
<span>           userEmail <span class="op">=</span> <span class="st">"your@email.edu.au"</span>,</span>
<span>           atlas <span class="op">=</span> <span class="st">"ALA"</span>,</span>
<span>           ALA_taxon <span class="op">=</span> <span class="st">"Apiformes"</span><span class="op">)</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="import-and-merge-ala-scan-idigbio-and-gbif-data">1.2 Import and merge ALA, SCAN, iDigBio, and GBIF data<a class="anchor" aria-label="anchor" href="#import-and-merge-ala-scan-idigbio-and-gbif-data"></a>
</h3>
<p>If you are planning on combining data from ALA, SCAN, iDigBio, and/or
GBIF, <code><a href="../reference/repoMerge.html">BeeBDC::repoMerge()</a></code> is a handy function that should
help you with this and help you to extract all of the metadata and
citations that you need. Remember, that the main workflow only needs a
nice Darwin Core-formatted dataset with which to work!</p>
<p>Supply the path to where the data are, the save_type is either
“csv_files” or “R_file”.</p>
<pre><code><span>  <span class="va">DataImp</span> <span class="op">&lt;-</span> <span class="fu">BeeBDC</span><span class="fu">::</span><span class="fu"><a href="../reference/repoMerge.html">repoMerge</a></span><span class="op">(</span>path <span class="op">=</span> <span class="va">DataPath</span>, </span>
<span>                  occ_paths <span class="op">=</span> <span class="fu">BeeBDC</span><span class="fu">::</span><span class="fu"><a href="../reference/repoFinder.html">repoFinder</a></span><span class="op">(</span>path <span class="op">=</span> <span class="va">DataPath</span><span class="op">)</span>,</span>
<span>                  save_type <span class="op">=</span> <span class="st">"R_file"</span><span class="op">)</span></span></code></pre>
<p>If there is an error in finding a file, run <code><a href="../reference/repoFinder.html">repoFinder()</a></code>
by itself to troubleshoot. For example:</p>
<pre><code><span>            <span class="co">#BeeBDC::repoFinder(path = DataPath)</span></span>
<span>            <span class="co">#OUTPUT:</span></span>
<span>            <span class="co">#$ALA_data</span></span>
<span>            <span class="co">#[1] "F:/BeeDataCleaning2022/BeeDataCleaning/BeeDataCleaning/BeeData/ALA_galah_path/galah_download_2022-09-15/data.csv"</span></span>
<span>  </span>
<span>            <span class="co">#$GBIF_data</span></span>
<span>            <span class="co">#[1] "F:/BeeDataCleaning2022/BeeDataCleaning/BeeDataCleaning/BeeData/GBIF_webDL_30Aug2022/0000165-220831081235567/occurrence.txt"</span></span>
<span>            <span class="co">#[2] "F:/BeeDataCleaning2022/BeeDataCleaning/BeeDataCleaning/BeeData/GBIF_webDL_30Aug2022/0436695-210914110416597/occurrence.txt"</span></span>
<span>            <span class="co">#[3] "F:/BeeDataCleaning2022/BeeDataCleaning/BeeDataCleaning/BeeData/GBIF_webDL_30Aug2022/0436697-210914110416597/occurrence.txt"</span></span>
<span>            <span class="co">#[4] "F:/BeeDataCleaning2022/BeeDataCleaning/BeeDataCleaning/BeeData/GBIF_webDL_30Aug2022/0436704-210914110416597/occurrence.txt"</span></span>
<span>            <span class="co">#[5] "F:/BeeDataCleaning2022/BeeDataCleaning/BeeDataCleaning/BeeData/GBIF_webDL_30Aug2022/0436732-210914110416597/occurrence.txt"</span></span>
<span>            <span class="co">#[6] "F:/BeeDataCleaning2022/BeeDataCleaning/BeeDataCleaning/BeeData/GBIF_webDL_30Aug2022/0436733-210914110416597/occurrence.txt"</span></span>
<span>            <span class="co">#[7] "F:/BeeDataCleaning2022/BeeDataCleaning/BeeDataCleaning/BeeData/GBIF_webDL_30Aug2022/0436734-210914110416597/occurrence.txt"</span></span>
<span>                    </span>
<span>            <span class="co">#$iDigBio_data</span></span>
<span>            <span class="co">#[1] "F:/BeeDataCleaning2022/BeeDataCleaning/BeeDataCleaning/BeeData/iDigBio_webDL_30Aug2022/5aa5abe1-62e0-4d8c-bebf-4ac13bd9e56f/occurrence_raw.csv"</span></span>
<span>  </span>
<span>            <span class="co">#$SCAN_data</span></span>
<span>            <span class="co">#character(0)</span></span>
<span>            <span class="co">#Failing because SCAN_data seems to be missing. Downloaded separatly from the one drive</span></span></code></pre>
<p>Load in the most-recent version of these data if needed. This will
return a list with:</p>
<ol style="list-style-type: decimal">
<li><p>The occurrence dataset with attributes (.$Data_WebDL)</p></li>
<li>
<p>The appended eml file (.$eml_files)</p>
<pre><code><span><span class="va">DataImp</span> <span class="op">&lt;-</span> <span class="fu">BeeBDC</span><span class="fu">::</span><span class="fu"><a href="../reference/importOccurrences.html">importOccurrences</a></span><span class="op">(</span>path <span class="op">=</span> <span class="va">DataPath</span>,</span>
<span>                       fileName <span class="op">=</span> <span class="st">"BeeData_"</span><span class="op">)</span></span></code></pre>
</li>
</ol>
</div>
<div class="section level3">
<h3 id="import-usgs-data">1.3 Import USGS Data<a class="anchor" aria-label="anchor" href="#import-usgs-data"></a>
</h3>
<p>The <a href="https://www.usgs.gov/centers/eesc/science/usgs-bee-lab-eastern-ecological-science-center" class="external-link">USGS
<strong>Bee</strong> Lab</a> makes a large and excellent bee dataset
publicly available. You can download, integrate, and use their data from
our 2023 paper using the <code><a href="../reference/USGS_formatter.html">BeeBDC::USGS_formatter()</a></code>
function.</p>
<p>The <code><a href="../reference/USGS_formatter.html">BeeBDC::USGS_formatter()</a></code> will find, import, format,
and create metadata for the USGS dataset. The pubDate must be in
day-month-year format.</p>
<pre><code><span>  <span class="va">USGS_data</span> <span class="op">&lt;-</span> <span class="fu">BeeBDC</span><span class="fu">::</span><span class="fu"><a href="../reference/USGS_formatter.html">USGS_formatter</a></span><span class="op">(</span>path <span class="op">=</span> <span class="va">DataPath</span>, pubDate <span class="op">=</span> <span class="st">"19-11-2022"</span><span class="op">)</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="formatted-source-importer">1.4 Formatted Source Importer<a class="anchor" aria-label="anchor" href="#formatted-source-importer"></a>
</h3>
<p>Use this importer to find files that have been formatted and need to
be added to the larger data file.</p>
<p>The attributes file must contain “attribute” in its name, and the
occurrence file must not.</p>
<pre><code><span>  <span class="va">Complete_data</span> <span class="op">&lt;-</span> <span class="fu">BeeBDC</span><span class="fu">::</span><span class="fu"><a href="../reference/formattedCombiner.html">formattedCombiner</a></span><span class="op">(</span>path <span class="op">=</span> <span class="va">DataPath</span>, </span>
<span>                                strings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"USGS_[a-zA-Z_]+[0-9]{4}-[0-9]{2}-[0-9]{2}"</span><span class="op">)</span>, </span>
<span>                                  <span class="co"># This should be the list-format with eml attached</span></span>
<span>                                existingOccurrences <span class="op">=</span> <span class="va">DataImp</span><span class="op">$</span><span class="va">Data_WebDL</span>,</span>
<span>                                existingEMLs <span class="op">=</span> <span class="va">DataImp</span><span class="op">$</span><span class="va">eml_files</span><span class="op">)</span> </span></code></pre>
<p>In the column <em>catalogNumber</em>, remove “.*specimennumber:” as
what comes after should be the USGS number to match for duplicates.</p>
<pre><code><span>  <span class="va">Complete_data</span><span class="op">$</span><span class="va">Data_WebDL</span> <span class="op">&lt;-</span> <span class="va">Complete_data</span><span class="op">$</span><span class="va">Data_WebDL</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>catalogNumber <span class="op">=</span> <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_replace.html" class="external-link">str_replace</a></span><span class="op">(</span><span class="va">catalogNumber</span>,</span>
<span>                                                       pattern <span class="op">=</span> <span class="st">".*\\| specimennumber:"</span>,</span>
<span>                                                       replacement <span class="op">=</span> <span class="st">""</span><span class="op">)</span><span class="op">)</span></span>
<span>  </span></code></pre>
</div>
<div class="section level3">
<h3 id="save-data">1.5 Save data<a class="anchor" aria-label="anchor" href="#save-data"></a>
</h3>
<p>Choose the type of data format you want to use in saving your work in
1.x.</p>
<pre><code><span>  <span class="fu">BeeBDC</span><span class="fu">::</span><span class="fu"><a href="../reference/dataSaver.html">dataSaver</a></span><span class="op">(</span>path <span class="op">=</span> <span class="va">DataPath</span>,<span class="co"># The main path to look for data in</span></span>
<span>       save_type <span class="op">=</span> <span class="st">"CSV_file"</span>, <span class="co"># "R_file" OR "CSV_file"</span></span>
<span>       occurrences <span class="op">=</span> <span class="va">Complete_data</span><span class="op">$</span><span class="va">Data_WebDL</span>, <span class="co"># The existing datasheet</span></span>
<span>       eml_files <span class="op">=</span> <span class="va">Complete_data</span><span class="op">$</span><span class="va">eml_files</span>, <span class="co"># The existing EML files</span></span>
<span>       file_prefix <span class="op">=</span> <span class="st">"Fin_"</span><span class="op">)</span> <span class="co"># The prefix for the fileNames</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/rm.html" class="external-link">rm</a></span><span class="op">(</span><span class="va">Complete_data</span>, <span class="va">DataImp</span><span class="op">)</span></span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="data-preparation">2.0 Data preparation<a class="anchor" aria-label="anchor" href="#data-preparation"></a>
</h2>
<p>The data preparation section of the script relates mostly to
integrating <strong>bee</strong> occurrence datasets and corrections and
so may be skipped by many general taxon users.</p>
<div class="section level3">
<h3 id="standardise-datasets">2.1 Standardise datasets<a class="anchor" aria-label="anchor" href="#standardise-datasets"></a>
</h3>
<p>You may either use:</p>
<ul>
<li><ol style="list-style-type: lower-alpha">
<li>the bdc import method (works well with general datasets)
<strong><em>or</em></strong>
</li>
</ol></li>
<li><ol start="2" style="list-style-type: lower-alpha">
<li>the jbd import method (works well with above data merge)</li>
</ol></li>
</ul>
<div class="section level4">
<h4 id="a--bdc-import">a. bdc import<a class="anchor" aria-label="anchor" href="#a--bdc-import"></a>
</h4>
<p>The bdc import is <strong>NOT</strong> truly supported here, but
provided as an example. Please go to section 2.1b below. Read in the
<strong>bdc</strong> metadata and standardise the dataset to bdc.</p>
<pre><code><span>        <span class="va">bdc_metadata</span> <span class="op">&lt;-</span> <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">DataPath</span>, <span class="st">"out_file"</span>, <span class="st">"bdc_integration.csv"</span>, sep <span class="op">=</span> <span class="st">"/"</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="co"># ?issue — datasetName is a darwinCore field already!</span></span>
<span>        <span class="co"># Standardise the dataset to bdc</span></span>
<span>        <span class="va">db_standardized</span> <span class="op">&lt;-</span> <span class="fu">bdc</span><span class="fu">::</span><span class="fu"><a href="https://brunobrr.github.io/bdc/reference/bdc_standardize_datasets.html" class="external-link">bdc_standardize_datasets</a></span><span class="op">(</span></span>
<span>          metadata <span class="op">=</span> <span class="va">bdc_metadata</span>,</span>
<span>          format <span class="op">=</span> <span class="st">"csv"</span>,</span>
<span>          overwrite <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>          save_database <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>        <span class="co"># read in configuration description file of the column header info</span></span>
<span>        <span class="va">config_description</span> <span class="op">&lt;-</span> <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">DataPath</span>, <span class="st">"Output"</span>, <span class="st">"bdc_configDesc.csv"</span>,</span>
<span>                                                    sep <span class="op">=</span> <span class="st">"/"</span><span class="op">)</span>, </span>
<span>                                              show_col_types <span class="op">=</span> <span class="cn">FALSE</span>, trim_ws <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>  </span></code></pre>
</div>
<div class="section level4">
<h4 id="b--jbd-import">b. jbd import<a class="anchor" aria-label="anchor" href="#b--jbd-import"></a>
</h4>
<p>Find the path, read in the file, and add the <em>database_id</em>
column.</p>
<pre><code><span>  <span class="va">occPath</span> <span class="op">&lt;-</span> <span class="fu">BeeBDC</span><span class="fu">::</span><span class="fu"><a href="../reference/fileFinder.html">fileFinder</a></span><span class="op">(</span>path <span class="op">=</span> <span class="va">DataPath</span>, fileName <span class="op">=</span> <span class="st">"Fin_BeeData_combined_"</span><span class="op">)</span></span>
<span></span>
<span></span>
<span>  <span class="va">db_standardized</span> <span class="op">&lt;-</span> <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="va">occPath</span>, </span>
<span>                                       <span class="co"># Use the basic ColTypeR function to determine types</span></span>
<span>                                     col_types <span class="op">=</span> <span class="fu">BeeBDC</span><span class="fu">::</span><span class="fu"><a href="../reference/ColTypeR.html">ColTypeR</a></span><span class="op">(</span><span class="op">)</span>, trim_ws <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>                                     <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>database_id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Dorey_data_"</span>, </span>
<span>                                     <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/dimensions.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span>, sep <span class="op">=</span> <span class="st">""</span><span class="op">)</span>,</span>
<span>                                     .before <span class="op">=</span> <span class="va">family</span><span class="op">)</span></span></code></pre>
</div>
</div>
<div class="section level3">
<h3 id="paige-dataset">2.2 Paige dataset<a class="anchor" aria-label="anchor" href="#paige-dataset"></a>
</h3>
<p>Paige Chesshire’s cleaned American dataset — <a href="https://doi.org/10.1111/ecog.06584" class="external-link uri">https://doi.org/10.1111/ecog.06584</a></p>
<div class="section level4">
<h4 id="import-data">Import data<a class="anchor" aria-label="anchor" href="#import-data"></a>
</h4>
<p>If you haven’t figured it out by now, don’t worry about the column
name warning — not all columns occur here.</p>
<pre><code><span>  <span class="va">PaigeNAm</span> <span class="op">&lt;-</span> <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">DataPath</span>, <span class="st">"Paige_data"</span>, <span class="st">"NorAmer_highQual_only_ALLfamilies.csv"</span>,</span>
<span>                                    sep <span class="op">=</span> <span class="st">"/"</span><span class="op">)</span>, col_types <span class="op">=</span> <span class="fu">BeeBDC</span><span class="fu">::</span><span class="fu"><a href="../reference/ColTypeR.html">ColTypeR</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>     <span class="co"># Change the column name from Source to dataSource to match the rest of the data.</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span>dataSource <span class="op">=</span> <span class="va">Source</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>     <span class="co"># EXTRACT WAS HERE</span></span>
<span>      <span class="co"># add a NEW database_id column</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>      database_id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"Paige_data_"</span>, <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/dimensions.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span><span class="op">)</span>,</span>
<span>      .before <span class="op">=</span> <span class="va">scientificName</span><span class="op">)</span></span></code></pre>
<div class="alert alert-info">
<p><strong> Attention:</strong> <br> It is recommended to run the below
code on the full bee dataset with more than 16GB RAM. Robert ran this on
a laptop with 16GB RAM and an Intel(R) Core(TM) i7-8550U processor (4
cores and 8 threads) — it struggled.</p>
</div>
</div>
<div class="section level4">
<h4 id="merge-paiges-data-with-downloaded-data">Merge Paige’s data with downloaded data<a class="anchor" aria-label="anchor" href="#merge-paiges-data-with-downloaded-data"></a>
</h4>
<pre><code><span>  <span class="va">db_standardized</span> <span class="op">&lt;-</span> <span class="fu">BeeBDC</span><span class="fu">::</span><span class="fu"><a href="../reference/PaigeIntegrater.html">PaigeIntegrater</a></span><span class="op">(</span></span>
<span>      db_standardized <span class="op">=</span> <span class="va">db_standardized</span>,</span>
<span>      PaigeNAm <span class="op">=</span> <span class="va">PaigeNAm</span>,</span>
<span>        <span class="co"># This is a list of columns by which to match Paige's data to the most-recent download with. </span></span>
<span>        <span class="co"># Each vector will be matched individually</span></span>
<span>      columnStrings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>        <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"decimalLatitude"</span>, <span class="st">"decimalLongitude"</span>, </span>
<span>          <span class="st">"recordNumber"</span>, <span class="st">"recordedBy"</span>, <span class="st">"individualCount"</span>, <span class="st">"samplingProtocol"</span>,</span>
<span>          <span class="st">"associatedTaxa"</span>, <span class="st">"sex"</span>, <span class="st">"catalogNumber"</span>, <span class="st">"institutionCode"</span>, <span class="st">"otherCatalogNumbers"</span>,</span>
<span>          <span class="st">"recordId"</span>, <span class="st">"occurrenceID"</span>, <span class="st">"collectionID"</span><span class="op">)</span>,         <span class="co"># Iteration 1</span></span>
<span>        <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"catalogNumber"</span>, <span class="st">"institutionCode"</span>, <span class="st">"otherCatalogNumbers"</span>,</span>
<span>          <span class="st">"recordId"</span>, <span class="st">"occurrenceID"</span>, <span class="st">"collectionID"</span><span class="op">)</span>, <span class="co"># Iteration 2</span></span>
<span>        <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"decimalLatitude"</span>, <span class="st">"decimalLongitude"</span>, </span>
<span>          <span class="st">"recordedBy"</span>, <span class="st">"genus"</span>, <span class="st">"specificEpithet"</span><span class="op">)</span>,<span class="co"># Iteration 3</span></span>
<span>        <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"id"</span>, <span class="st">"decimalLatitude"</span>, <span class="st">"decimalLongitude"</span><span class="op">)</span>,<span class="co"># Iteration 4</span></span>
<span>        <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"recordedBy"</span>, <span class="st">"genus"</span>, <span class="st">"specificEpithet"</span>, <span class="st">"locality"</span><span class="op">)</span>, <span class="co"># Iteration 5</span></span>
<span>        <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"recordedBy"</span>, <span class="st">"institutionCode"</span>, <span class="st">"genus"</span>, </span>
<span>          <span class="st">"specificEpithet"</span>,<span class="st">"locality"</span><span class="op">)</span>,<span class="co"># Iteration 6</span></span>
<span>        <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"occurrenceID"</span>,<span class="st">"decimalLatitude"</span>, <span class="st">"decimalLongitude"</span><span class="op">)</span>,<span class="co"># Iteration 7</span></span>
<span>        <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"catalogNumber"</span>,<span class="st">"decimalLatitude"</span>, <span class="st">"decimalLongitude"</span><span class="op">)</span>,<span class="co"># Iteration 8</span></span>
<span>        <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"catalogNumber"</span>, <span class="st">"locality"</span><span class="op">)</span> <span class="co"># Iteration 9</span></span>
<span>      <span class="op">)</span> <span class="op">)</span></span></code></pre>
<p>Remove spent data.</p>
<pre><code><span>  <span class="fu"><a href="https://rdrr.io/r/base/rm.html" class="external-link">rm</a></span><span class="op">(</span><span class="va">PaigeNAm</span><span class="op">)</span></span></code></pre>
</div>
</div>
<div class="section level3">
<h3 id="usgs">2.3 USGS<a class="anchor" aria-label="anchor" href="#usgs"></a>
</h3>
<p>The USGS dataset also partially occurs on GBIF from BISON. However,
the occurrence codes are in a silly place… We will correct these here to
help identify duplicates later.</p>
<pre><code><span>    <span class="va">db_standardized</span> <span class="op">&lt;-</span> <span class="va">db_standardized</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>          <span class="co"># Remove the discoverlife html if it is from USGS</span></span>
<span>      <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>occurrenceID <span class="op">=</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/if_else.html" class="external-link">if_else</a></span><span class="op">(</span></span>
<span>        <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html" class="external-link">str_detect</a></span><span class="op">(</span><span class="va">occurrenceID</span>, <span class="st">"USGS_DRO"</span><span class="op">)</span>,</span>
<span>        <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_remove.html" class="external-link">str_remove</a></span><span class="op">(</span><span class="va">occurrenceID</span>, <span class="st">"http://www\\.discoverlife\\.org/mp/20l\\?id="</span><span class="op">)</span>,</span>
<span>        <span class="va">occurrenceID</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>          <span class="co"># Use otherCatalogNumbers when occurrenceID is empty AND when USGS_DRO is detected there</span></span>
<span>      <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>        occurrenceID <span class="op">=</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/if_else.html" class="external-link">if_else</a></span><span class="op">(</span></span>
<span>          <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html" class="external-link">str_detect</a></span><span class="op">(</span><span class="va">otherCatalogNumbers</span>, <span class="st">"USGS_DRO"</span><span class="op">)</span> <span class="op">&amp;</span> <span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">occurrenceID</span><span class="op">)</span>,</span>
<span>          <span class="va">otherCatalogNumbers</span>, <span class="va">occurrenceID</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>           <span class="co"># Make sure that no eventIDs have snuck into the occurrenceID columns </span></span>
<span>           <span class="co"># For USGS_DRO, codes with &lt;6 digits are event ids</span></span>
<span>      <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>        occurrenceID <span class="op">=</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/if_else.html" class="external-link">if_else</a></span><span class="op">(</span><span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html" class="external-link">str_detect</a></span><span class="op">(</span><span class="va">occurrenceID</span>, <span class="st">"USGS_DRO"</span>, negate <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>             <span class="co"># Keep occurrenceID if it's NOT USGS_DRO</span></span>
<span>           <span class="va">occurrenceID</span>, </span>
<span>             <span class="co"># If it IS USGS_DRO and it has =&gt; 6 numbers, keep it, else, NA</span></span>
<span>          <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/if_else.html" class="external-link">if_else</a></span><span class="op">(</span><span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html" class="external-link">str_detect</a></span><span class="op">(</span><span class="va">occurrenceID</span>, <span class="st">"USGS_DRO[0-9]{6,10}"</span><span class="op">)</span>,</span>
<span>                         <span class="va">occurrenceID</span>, <span class="cn">NA_character_</span><span class="op">)</span><span class="op">)</span>,</span>
<span>        catalogNumber <span class="op">=</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/if_else.html" class="external-link">if_else</a></span><span class="op">(</span><span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html" class="external-link">str_detect</a></span><span class="op">(</span><span class="va">catalogNumber</span>, <span class="st">"USGS_DRO"</span>, negate <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>             <span class="co"># Keep catalogNumber if it's NOT USGS_DRO</span></span>
<span>          <span class="va">catalogNumber</span>, </span>
<span>             <span class="co"># If it IS USGS_DRO and it has =&gt; 6 numbers, keep it, else, NA</span></span>
<span>          <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/if_else.html" class="external-link">if_else</a></span><span class="op">(</span><span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html" class="external-link">str_detect</a></span><span class="op">(</span><span class="va">catalogNumber</span>, <span class="st">"USGS_DRO[0-9]{6,10}"</span><span class="op">)</span>,</span>
<span>                         <span class="va">catalogNumber</span>, <span class="cn">NA_character_</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="additional-datasets">2.4 Additional datasets<a class="anchor" aria-label="anchor" href="#additional-datasets"></a>
</h3>
<p>Import additional and potentially private datasets.</p>
<p><strong>Note:</strong> Private dataset functions are provided but the
data itself is not integrated here until those datasets become freely
available.</p>
<p>There will be some warnings were a few rows may not be formatted
correctly or where dates fail to parse. This is normal.</p>
<div class="section level7">
<h6 id="a--epel">a. EPEL<a class="anchor" aria-label="anchor" href="#a--epel"></a>
</h6>
<p>Guzman, L. M., Kelly, T. &amp; Elle, E. A data set for pollinator
diversity and their interactions with plants in the Pacific Northwest.
Ecology, e3927 (2022). <a href="https://doi.org/10.1002/ecy.3927" class="external-link uri">https://doi.org/10.1002/ecy.3927</a></p>
<pre><code><span><span class="va">EPEL_Data</span> <span class="op">&lt;-</span> <span class="fu">BeeBDC</span><span class="fu">::</span><span class="fu"><a href="../reference/readr_BeeBDC.html">readr_BeeBDC</a></span><span class="op">(</span>dataset <span class="op">=</span> <span class="st">"EPEL"</span>,</span>
<span>                                path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">DataPath</span>, <span class="st">"/Additional_Datasets"</span><span class="op">)</span>,</span>
<span>                      inFile <span class="op">=</span> <span class="st">"/InputDatasets/bee_data_canada.csv"</span>,</span>
<span>                      outFile <span class="op">=</span> <span class="st">"jbd_EPEL_data.csv"</span>,</span>
<span>                      dataLicense <span class="op">=</span> <span class="st">"https://creativecommons.org/licenses/by-nc-sa/4.0/"</span><span class="op">)</span></span>
<span>                      </span></code></pre>
</div>
<div class="section level7">
<h6 id="b--allan-smith-pardo">b. Allan Smith-Pardo<a class="anchor" aria-label="anchor" href="#b--allan-smith-pardo"></a>
</h6>
<p>Data from Allan Smith-Pardo</p>
<pre><code><span><span class="va">ASP_Data</span> <span class="op">&lt;-</span> <span class="fu">BeeBDC</span><span class="fu">::</span><span class="fu"><a href="../reference/readr_BeeBDC.html">readr_BeeBDC</a></span><span class="op">(</span>dataset <span class="op">=</span> <span class="st">"ASP"</span>,</span>
<span>                               path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">DataPath</span>, <span class="st">"/Additional_Datasets"</span><span class="op">)</span>,</span>
<span>                      inFile <span class="op">=</span> <span class="st">"/InputDatasets/Allan_Smith-Pardo_Dorey_ready2.csv"</span>,</span>
<span>                      outFile <span class="op">=</span> <span class="st">"jbd_ASP_data.csv"</span>,</span>
<span>                      dataLicense <span class="op">=</span> <span class="st">"https://creativecommons.org/licenses/by-nc-sa/4.0/"</span><span class="op">)</span></span>
<span>                      </span></code></pre>
</div>
<div class="section level7">
<h6 id="c--minckley">c. Minckley<a class="anchor" aria-label="anchor" href="#c--minckley"></a>
</h6>
<p>Data from Robert Minckley</p>
<pre><code><span><span class="va">BMin_Data</span> <span class="op">&lt;-</span> <span class="fu">BeeBDC</span><span class="fu">::</span><span class="fu"><a href="../reference/readr_BeeBDC.html">readr_BeeBDC</a></span><span class="op">(</span>dataset <span class="op">=</span> <span class="st">"BMin"</span>,</span>
<span>                                path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">DataPath</span>, <span class="st">"/Additional_Datasets"</span><span class="op">)</span>,</span>
<span>                        inFile <span class="op">=</span> <span class="st">"/InputDatasets/Bob_Minckley_6_1_22_ScanRecent-mod_Dorey.csv"</span>,</span>
<span>                        outFile <span class="op">=</span> <span class="st">"jbd_BMin_data.csv"</span>,</span>
<span>                        dataLicense <span class="op">=</span> <span class="st">"https://creativecommons.org/licenses/by-nc-sa/4.0/"</span><span class="op">)</span></span>
<span>                        </span></code></pre>
</div>
<div class="section level7">
<h6 id="d--bmont">d. BMont<a class="anchor" aria-label="anchor" href="#d--bmont"></a>
</h6>
<p>Delphia, C. M. Bumble bees of Montana. <a href="https://www.mtent.org/projects/Bumble_Bees/bombus_species.html" class="external-link uri">https://www.mtent.org/projects/Bumble_Bees/bombus_species.html</a>.
(2022)</p>
<pre><code><span><span class="va">BMont_Data</span> <span class="op">&lt;-</span> <span class="fu">BeeBDC</span><span class="fu">::</span><span class="fu"><a href="../reference/readr_BeeBDC.html">readr_BeeBDC</a></span><span class="op">(</span>dataset <span class="op">=</span> <span class="st">"BMont"</span>,</span>
<span>                                 path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">DataPath</span>, <span class="st">"/Additional_Datasets"</span><span class="op">)</span>,</span>
<span>                          inFile <span class="op">=</span> <span class="st">"/InputDatasets/Bombus_Montana_dorey.csv"</span>,</span>
<span>                          outFile <span class="op">=</span> <span class="st">"jbd_BMont_data.csv"</span>,</span>
<span>                          dataLicense <span class="op">=</span> <span class="st">"https://creativecommons.org/licenses/by-sa/4.0/"</span><span class="op">)</span></span>
<span>                          </span></code></pre>
</div>
<div class="section level7">
<h6 id="e--ecd">e. Ecd<a class="anchor" aria-label="anchor" href="#e--ecd"></a>
</h6>
<p>Ecdysis. Ecdysis: a portal for live-data arthropod collections, <a href="https://ecdysis.org/index.php" class="external-link uri">https://ecdysis.org/index.php</a> (2022).</p>
<pre><code><span><span class="va">Ecd_Data</span> <span class="op">&lt;-</span> <span class="fu">BeeBDC</span><span class="fu">::</span><span class="fu"><a href="../reference/readr_BeeBDC.html">readr_BeeBDC</a></span><span class="op">(</span>dataset <span class="op">=</span> <span class="st">"Ecd"</span>,</span>
<span>                               path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">DataPath</span>, <span class="st">"/Additional_Datasets"</span><span class="op">)</span>,</span>
<span>                      inFile <span class="op">=</span> <span class="st">"/InputDatasets/Ecdysis_occs.csv"</span>,</span>
<span>                      outFile <span class="op">=</span> <span class="st">"jbd_Ecd_data.csv"</span>,</span>
<span>                      dataLicense <span class="op">=</span> <span class="st">"https://creativecommons.org/licenses/by-nc-sa/4.0/"</span><span class="op">)</span></span>
<span>                      </span></code></pre>
</div>
<div class="section level7">
<h6 id="f--gai">f. Gai<a class="anchor" aria-label="anchor" href="#f--gai"></a>
</h6>
<p>Gaiarsa, M. P., Kremen, C. &amp; Ponisio, L. C. Pollinator
interaction flexibility across scales affects patch colonization and
occupancy. <em>Nature Ecology &amp; Evolution</em> 5, 787-793 (2021). <a href="https://doi.org/10.1038/s41559-021-01434-y" class="external-link uri">https://doi.org/10.1038/s41559-021-01434-y</a></p>
<pre><code><span><span class="va">Gai_Data</span> <span class="op">&lt;-</span> <span class="fu">BeeBDC</span><span class="fu">::</span><span class="fu"><a href="../reference/readr_BeeBDC.html">readr_BeeBDC</a></span><span class="op">(</span>dataset <span class="op">=</span> <span class="st">"Gai"</span>,</span>
<span>                               path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">DataPath</span>, <span class="st">"/Additional_Datasets"</span><span class="op">)</span>,</span>
<span>                      inFile <span class="op">=</span> <span class="st">"/InputDatasets/upload_to_scan_Gaiarsa et al_Dorey.csv"</span>,</span>
<span>                      outFile <span class="op">=</span> <span class="st">"jbd_Gai_data.csv"</span>,</span>
<span>                      dataLicense <span class="op">=</span> <span class="st">"https://creativecommons.org/licenses/by-nc-sa/4.0/"</span><span class="op">)</span></span>
<span>                      </span></code></pre>
</div>
<div class="section level7">
<h6 id="g--caes">g. CAES<a class="anchor" aria-label="anchor" href="#g--caes"></a>
</h6>
<p>From the Connecticut Agricultural Experiment Station.</p>
<p>Zarrillo, T. A., Stoner, K. A. &amp; Ascher, J. S. Biodiversity of
bees (Hymenoptera: Apoidea: Anthophila) in Connecticut (USA). Zootaxa
(Accepted).</p>
<p>Ecdysis. Occurrence dataset (ID:
16fca9c2-f622-4cb1-aef0-3635a7be5aeb). <a href="https://ecdysis.org/content/dwca/CAES-CAES_DwC-A.zip" class="external-link uri">https://ecdysis.org/content/dwca/CAES-CAES_DwC-A.zip</a>.
(2023)</p>
<pre><code><span><span class="va">CAES_Data</span> <span class="op">&lt;-</span> <span class="fu">BeeBDC</span><span class="fu">::</span><span class="fu"><a href="../reference/readr_BeeBDC.html">readr_BeeBDC</a></span><span class="op">(</span>dataset <span class="op">=</span> <span class="st">"CAES"</span>,</span>
<span>                                path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">DataPath</span>, <span class="st">"/Additional_Datasets"</span><span class="op">)</span>,</span>
<span>                        inFile <span class="op">=</span> <span class="st">"/InputDatasets/CT_BEE_DATA_FROM_PBI.xlsx"</span>,</span>
<span>                        outFile <span class="op">=</span> <span class="st">"jbd_CT_Data.csv"</span>,</span>
<span>                        sheet <span class="op">=</span> <span class="st">"Sheet1"</span>,</span>
<span>                        dataLicense <span class="op">=</span> <span class="st">"https://creativecommons.org/licenses/by-nc-sa/4.0/"</span><span class="op">)</span></span></code></pre>
</div>
<div class="section level7">
<h6 id="h--geol">h. GeoL<a class="anchor" aria-label="anchor" href="#h--geol"></a>
</h6>
<pre><code><span><span class="va">GeoL_Data</span> <span class="op">&lt;-</span> <span class="fu">BeeBDC</span><span class="fu">::</span><span class="fu"><a href="../reference/readr_BeeBDC.html">readr_BeeBDC</a></span><span class="op">(</span>dataset <span class="op">=</span> <span class="st">"GeoL"</span>,</span>
<span>                                path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">DataPath</span>, <span class="st">"/Additional_Datasets"</span><span class="op">)</span>,</span>
<span>                        inFile <span class="op">=</span> <span class="st">"/InputDatasets/Geolocate and BELS_certain and accurate.xlsx"</span>,</span>
<span>                        outFile <span class="op">=</span> <span class="st">"jbd_GeoL_Data.csv"</span>,</span>
<span>                        dataLicense <span class="op">=</span> <span class="st">"https://creativecommons.org/licenses/by-nc-sa/4.0/"</span><span class="op">)</span></span></code></pre>
</div>
<div class="section level7">
<h6 id="i--eaco">i. EaCO<a class="anchor" aria-label="anchor" href="#i--eaco"></a>
</h6>
<pre><code><span><span class="va">EaCO_Data</span> <span class="op">&lt;-</span> <span class="fu">BeeBDC</span><span class="fu">::</span><span class="fu"><a href="../reference/readr_BeeBDC.html">readr_BeeBDC</a></span><span class="op">(</span>dataset <span class="op">=</span> <span class="st">"EaCO"</span>,</span>
<span>                                path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">DataPath</span>, <span class="st">"/Additional_Datasets"</span><span class="op">)</span>,</span>
<span>                        inFile <span class="op">=</span> <span class="st">"/InputDatasets/Eastern Colorado bee 2017 sampling.xlsx"</span>,</span>
<span>                        outFile <span class="op">=</span> <span class="st">"jbd_EaCo_Data.csv"</span>,</span>
<span>                        dataLicense <span class="op">=</span> <span class="st">"https://creativecommons.org/licenses/by-nc-sa/4.0/"</span><span class="op">)</span></span></code></pre>
</div>
<div class="section level7">
<h6 id="j--fsca">j. FSCA<a class="anchor" aria-label="anchor" href="#j--fsca"></a>
</h6>
<p>Florida State Collection of Arthropods</p>
<pre><code><span><span class="va">FSCA_Data</span> <span class="op">&lt;-</span> <span class="fu">BeeBDC</span><span class="fu">::</span><span class="fu"><a href="../reference/readr_BeeBDC.html">readr_BeeBDC</a></span><span class="op">(</span>dataset <span class="op">=</span> <span class="st">"FSCA"</span>,</span>
<span>                                path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">DataPath</span>, <span class="st">"/Additional_Datasets"</span><span class="op">)</span>,</span>
<span>                        inFile <span class="op">=</span> <span class="st">"InputDatasets/fsca_9_15_22_occurrences.csv"</span>,</span>
<span>                        outFile <span class="op">=</span> <span class="st">"jbd_FSCA_Data.csv"</span>,</span>
<span>                        dataLicense <span class="op">=</span> <span class="st">"https://creativecommons.org/licenses/by-nc-sa/4.0/"</span><span class="op">)</span></span></code></pre>
</div>
<div class="section level7">
<h6 id="k--texas-smc">k. Texas SMC<a class="anchor" aria-label="anchor" href="#k--texas-smc"></a>
</h6>
<p>Published or unpublished data from Texas literature not in an online
database, usually copied into spreadsheet from document format, or
otherwise copied from a very differently-formatted spreadsheet.
Unpublished or partially published data were obtained with express
permission from the lead author.</p>
<pre><code><span><span class="va">SMC_Data</span> <span class="op">&lt;-</span> <span class="fu">BeeBDC</span><span class="fu">::</span><span class="fu"><a href="../reference/readr_BeeBDC.html">readr_BeeBDC</a></span><span class="op">(</span>dataset <span class="op">=</span> <span class="st">"SMC"</span>,</span>
<span>                               path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">DataPath</span>, <span class="st">"/Additional_Datasets"</span><span class="op">)</span>,</span>
<span>                      inFile <span class="op">=</span> <span class="st">"/InputDatasets/TXbeeLitOccs_31Oct22.csv"</span>, </span>
<span>                      outFile <span class="op">=</span> <span class="st">"jbd_SMC_Data.csv"</span>,</span>
<span>                      dataLicense <span class="op">=</span> <span class="st">"https://creativecommons.org/licenses/by-nc-sa/4.0/"</span><span class="op">)</span></span>
<span>                      </span></code></pre>
</div>
<div class="section level7">
<h6 id="l--texas-bal">l. Texas Bal<a class="anchor" aria-label="anchor" href="#l--texas-bal"></a>
</h6>
<p>Data with GPS coordinates (missing accidentally from records on
Dryad) from Ballare, K. M., Neff, J. L., Ruppel, R. &amp; Jha, S.
Multi-scalar drivers of biodiversity: local management mediates wild bee
community response to regional urbanization. Ecological Applications 29,
e01869 (2019), <a href="https://doi.org/10.1002/eap.1869" class="external-link uri">https://doi.org/10.1002/eap.1869</a>. The version on Dryad
is missing site GPS coordinates (by accident). Kim is okay with these
data being made public as long as her paper is referenced. - Elinor
Lichtenberg</p>
<pre><code><span><span class="va">Bal_Data</span> <span class="op">&lt;-</span> <span class="fu">BeeBDC</span><span class="fu">::</span><span class="fu"><a href="../reference/readr_BeeBDC.html">readr_BeeBDC</a></span><span class="op">(</span>dataset <span class="op">=</span> <span class="st">"Bal"</span>,</span>
<span>                               path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">DataPath</span>, <span class="st">"/Additional_Datasets"</span><span class="op">)</span>,</span>
<span>                      inFile <span class="op">=</span> <span class="st">"/InputDatasets/Beedata_ballare.xlsx"</span>, </span>
<span>                      outFile <span class="op">=</span> <span class="st">"jbd_Bal_Data.csv"</span>,</span>
<span>                      sheet <span class="op">=</span> <span class="st">"animal_data"</span>,</span>
<span>                      dataLicense <span class="op">=</span> <span class="st">"https://creativecommons.org/licenses/by-nc-sa/4.0/"</span><span class="op">)</span></span></code></pre>
</div>
<div class="section level7">
<h6 id="m--palouse-lic">m. Palouse Lic<a class="anchor" aria-label="anchor" href="#m--palouse-lic"></a>
</h6>
<p>Elinor Lichtenberg’s canola data: Lichtenberg, E. M., Milosavljević,
I., Campbell, A. J. &amp; Crowder, D. W. Differential effects of soil
conservation practices on arthropods and crop yields. <em>Journal of
Applied Entomology</em>, (2023) <a href="https://doi.org/10.1111/jen.13188" class="external-link uri">https://doi.org/10.1111/jen.13188</a>. These are the data I
will be putting on SCAN. - Elinor Lichtenberg</p>
<pre><code><span><span class="va">Lic_Data</span> <span class="op">&lt;-</span> <span class="fu">BeeBDC</span><span class="fu">::</span><span class="fu"><a href="../reference/readr_BeeBDC.html">readr_BeeBDC</a></span><span class="op">(</span>dataset <span class="op">=</span> <span class="st">"Lic"</span>,</span>
<span>                               path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">DataPath</span>, <span class="st">"/Additional_Datasets"</span><span class="op">)</span>,</span>
<span>                      inFile <span class="op">=</span> <span class="st">"/InputDatasets/Lichtenberg_canola_records.csv"</span>, </span>
<span>                      outFile <span class="op">=</span> <span class="st">"jbd_Lic_Data.csv"</span>,</span>
<span>                      dataLicense <span class="op">=</span> <span class="st">"https://creativecommons.org/licenses/by-nc-sa/4.0/"</span><span class="op">)</span></span></code></pre>
</div>
<div class="section level7">
<h6 id="n--arm">n. Arm<a class="anchor" aria-label="anchor" href="#n--arm"></a>
</h6>
<p>Data from Armando Falcon-Brindis from the University of Kentucky.</p>
<pre><code><span><span class="va">Arm_Data</span> <span class="op">&lt;-</span> <span class="fu">BeeBDC</span><span class="fu">::</span><span class="fu"><a href="../reference/readr_BeeBDC.html">readr_BeeBDC</a></span><span class="op">(</span>dataset <span class="op">=</span> <span class="st">"Arm"</span>,</span>
<span>                               path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">DataPath</span>, <span class="st">"/Additional_Datasets"</span><span class="op">)</span>,</span>
<span>                      inFile <span class="op">=</span> <span class="st">"/InputDatasets/Bee database Armando_Final.xlsx"</span>,</span>
<span>                      outFile <span class="op">=</span> <span class="st">"jbd_Arm_Data.csv"</span>,</span>
<span>                      sheet <span class="op">=</span> <span class="st">"Sheet1"</span>,</span>
<span>                      dataLicense <span class="op">=</span> <span class="st">"https://creativecommons.org/licenses/by-nc-sa/4.0/"</span><span class="op">)</span></span></code></pre>
</div>
<div class="section level7">
<h6 id="o--dor">o. Dor<a class="anchor" aria-label="anchor" href="#o--dor"></a>
</h6>
<p>From several papers:</p>
<ol style="list-style-type: decimal">
<li>Dorey, J. B., Fagan-Jeffries, E. P., Stevens, M. I., &amp; Schwarz,
M. P. (2020). Morphometric comparisons and novel observations of diurnal
and low-light-foraging bees. <em>Journal of Hymenoptera Research</em>,
79, 117–144. doi:<a href="https://doi.org/10.3897/jhr.79.57308" class="external-link uri">https://doi.org/10.3897/jhr.79.57308</a>
</li>
<li>Dorey, J. B. (2021). Missing for almost 100 years: the rare and
potentially threatened bee Pharohylaeus lactiferus (Hymenoptera,
Colltidae). <em>Journal of Hymenoptera Research</em>, 81, 165-180. doi:
<a href="https://doi.org/10.3897/jhr.81.59365" class="external-link uri">https://doi.org/10.3897/jhr.81.59365</a>
</li>
<li>Dorey, J. B., Schwarz, M. P., &amp; Stevens, M. I. (2019). Review of
the bee genus Homalictus Cockerell (Hymenoptera: Halictidae) from Fiji
with description of nine new species. <em>Zootaxa</em>, 4674(1), 1–46.
doi:<a href="https://doi.org/10.11646/zootaxa.4674.1.1" class="external-link uri">https://doi.org/10.11646/zootaxa.4674.1.1</a>
</li>
</ol>
<pre><code></code></pre>
<pre><code><span>  <span class="va">Dor_Data</span> <span class="op">&lt;-</span> <span class="fu">BeeBDC</span><span class="fu">::</span><span class="fu"><a href="../reference/readr_BeeBDC.html">readr_BeeBDC</a></span><span class="op">(</span>dataset <span class="op">=</span> <span class="st">"Dor"</span>,</span>
<span>                    path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">DataPath</span>, <span class="st">"/Additional_Datasets"</span><span class="op">)</span>,</span>
<span>                    inFile <span class="op">=</span> <span class="st">"/InputDatasets/DoreyData.csv"</span>,</span>
<span>                    outFile <span class="op">=</span> <span class="st">"jbd_Dor_Data.csv"</span>,</span>
<span>                    dataLicense <span class="op">=</span> <span class="st">"https://creativecommons.org/licenses/by-nc-sa/4.0/"</span><span class="op">)</span></span></code></pre>
</div>
<div class="section level7">
<h6 id="p--vicwam">p. VicWam<a class="anchor" aria-label="anchor" href="#p--vicwam"></a>
</h6>
<p>These data are originally from the Victorian Museum and Western
Australian Museum in Australia. However, in their current form they are
from Dorey et al. 2021.</p>
<ol style="list-style-type: decimal">
<li>PADIL. (2020). PaDIL. <a href="https://www.PADIL.gov.au/" class="external-link uri">https://www.PADIL.gov.au/</a>
</li>
<li>Houston, T. F. (2000). Native bees on wildflowers in Western
Australia. <em>Western Australian Insect Study Society</em>.</li>
<li>Dorey, J. B., Rebola, C. M., Davies, O. K., Prendergast, K. S.,
Parslow, B. A., Hogendoorn, K., . . . Caddy-Retalic, S. (2021).
Continental risk assessment for understudied taxa post catastrophic
wildfire indicates severe impacts on the Australian bee fauna.
<em>Global Change Biology</em>, 27(24), 6551-6567. doi:<a href="https://doi.org/10.1111/gcb.15879" class="external-link uri">https://doi.org/10.1111/gcb.15879</a>
</li>
</ol>
<pre><code></code></pre>
<pre><code><span> <span class="va">VicWam_Data</span> <span class="op">&lt;-</span> <span class="fu">BeeBDC</span><span class="fu">::</span><span class="fu"><a href="../reference/readr_BeeBDC.html">readr_BeeBDC</a></span><span class="op">(</span>dataset <span class="op">=</span> <span class="st">"VicWam"</span>,</span>
<span>                    path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">DataPath</span>, <span class="st">"/Additional_Datasets"</span><span class="op">)</span>,</span>
<span>                    inFile <span class="op">=</span> <span class="st">"/InputDatasets/Combined_Vic_WAM_databases.xlsx"</span>,</span>
<span>                    outFile <span class="op">=</span> <span class="st">"jbd_VicWam_Data.csv"</span>,</span>
<span>                    dataLicense <span class="op">=</span> <span class="st">"https://creativecommons.org/licenses/by-nc-sa/4.0/"</span>,</span>
<span>                    sheet <span class="op">=</span> <span class="st">"Combined"</span><span class="op">)</span></span></code></pre>
</div>
<div class="section level4">
<h4 id="merge-all">2.5 Merge all<a class="anchor" aria-label="anchor" href="#merge-all"></a>
</h4>
<p>Remove these spent datasets.</p>
<pre><code><span>  <span class="fu"><a href="https://rdrr.io/r/base/rm.html" class="external-link">rm</a></span><span class="op">(</span><span class="va">EPEL_Data</span>, <span class="va">ASP_Data</span>, <span class="va">BMin_Data</span>, <span class="va">BMont_Data</span>, <span class="va">Ecd_Data</span>, <span class="va">Gai_Data</span>, <span class="va">CAES_Data</span>, </span>
<span>  <span class="va">GeoL_Data</span>, <span class="va">EaCO_Data</span>, <span class="va">FSCA_Data</span>, <span class="va">SMC_Data</span>, <span class="va">Bal_Data</span>, <span class="va">Lic_Data</span>, <span class="va">Arm_Data</span>, <span class="va">Dor_Data</span>,</span>
<span>  <span class="va">VicWam_Data</span><span class="op">)</span></span></code></pre>
<p>Read in and merge all. There are more <code><a href="../reference/readr_BeeBDC.html">readr_BeeBDC()</a></code>
supported than currently implemented and these represent datasets that
will be publicly released in the future. See
‘?<code><a href="../reference/readr_BeeBDC.html">readr_BeeBDC()</a></code>’ for details.</p>
<pre><code><span><span class="va">db_standardized</span> <span class="op">&lt;-</span> <span class="va">db_standardized</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html" class="external-link">bind_rows</a></span><span class="op">(</span></span>
<span>    <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">DataPath</span>, <span class="st">"/Additional_Datasets"</span>, </span>
<span>                           <span class="st">"/jbd_ASP_data.csv"</span><span class="op">)</span>, col_types <span class="op">=</span> <span class="fu">BeeBDC</span><span class="fu">::</span><span class="fu"><a href="../reference/ColTypeR.html">ColTypeR</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">DataPath</span>, <span class="st">"/Additional_Datasets"</span>, </span>
<span>                           <span class="st">"/jbd_EPEL_data.csv"</span><span class="op">)</span>, col_types <span class="op">=</span> <span class="fu">BeeBDC</span><span class="fu">::</span><span class="fu"><a href="../reference/ColTypeR.html">ColTypeR</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">DataPath</span>, <span class="st">"/Additional_Datasets"</span>, </span>
<span>                           <span class="st">"/jbd_BMin_data.csv"</span><span class="op">)</span>, col_types <span class="op">=</span> <span class="fu">BeeBDC</span><span class="fu">::</span><span class="fu"><a href="../reference/ColTypeR.html">ColTypeR</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">DataPath</span>, <span class="st">"/Additional_Datasets"</span>, </span>
<span>                           <span class="st">"/jbd_BMont_data.csv"</span><span class="op">)</span>, col_types <span class="op">=</span> <span class="fu">BeeBDC</span><span class="fu">::</span><span class="fu"><a href="../reference/ColTypeR.html">ColTypeR</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">DataPath</span>, <span class="st">"/Additional_Datasets"</span>, </span>
<span>                           <span class="st">"/jbd_Ecd_data.csv"</span><span class="op">)</span>, col_types <span class="op">=</span> <span class="fu">BeeBDC</span><span class="fu">::</span><span class="fu"><a href="../reference/ColTypeR.html">ColTypeR</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">DataPath</span>, <span class="st">"/Additional_Datasets"</span>, </span>
<span>                           <span class="st">"/jbd_Gai_data.csv"</span><span class="op">)</span>, col_types <span class="op">=</span> <span class="fu">BeeBDC</span><span class="fu">::</span><span class="fu"><a href="../reference/ColTypeR.html">ColTypeR</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">DataPath</span>, <span class="st">"/Additional_Datasets"</span>, </span>
<span>                           <span class="st">"/jbd_CT_Data.csv"</span><span class="op">)</span>, col_types <span class="op">=</span> <span class="fu">BeeBDC</span><span class="fu">::</span><span class="fu"><a href="../reference/ColTypeR.html">ColTypeR</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">DataPath</span>, <span class="st">"/Additional_Datasets"</span>, </span>
<span>                           <span class="st">"/jbd_GeoL_Data.csv"</span><span class="op">)</span>, col_types <span class="op">=</span> <span class="fu">BeeBDC</span><span class="fu">::</span><span class="fu"><a href="../reference/ColTypeR.html">ColTypeR</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">DataPath</span>, <span class="st">"/Additional_Datasets"</span>, </span>
<span>                           <span class="st">"/jbd_EaCo_Data.csv"</span><span class="op">)</span>, col_types <span class="op">=</span> <span class="fu">BeeBDC</span><span class="fu">::</span><span class="fu"><a href="../reference/ColTypeR.html">ColTypeR</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>, </span>
<span>    <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">DataPath</span>, <span class="st">"/Additional_Datasets"</span>, </span>
<span>                           <span class="st">"/jbd_SMC_Data.csv"</span><span class="op">)</span>, col_types <span class="op">=</span> <span class="fu">BeeBDC</span><span class="fu">::</span><span class="fu"><a href="../reference/ColTypeR.html">ColTypeR</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">DataPath</span>, <span class="st">"/Additional_Datasets"</span>, </span>
<span>                           <span class="st">"/jbd_Bal_Data.csv"</span><span class="op">)</span>, col_types <span class="op">=</span> <span class="fu">BeeBDC</span><span class="fu">::</span><span class="fu"><a href="../reference/ColTypeR.html">ColTypeR</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">DataPath</span>, <span class="st">"/Additional_Datasets"</span>, </span>
<span>                           <span class="st">"/jbd_Lic_Data.csv"</span><span class="op">)</span>, col_types <span class="op">=</span> <span class="fu">BeeBDC</span><span class="fu">::</span><span class="fu"><a href="../reference/ColTypeR.html">ColTypeR</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">DataPath</span>, <span class="st">"/Additional_Datasets"</span>, </span>
<span>                           <span class="st">"/jbd_Arm_Data.csv"</span><span class="op">)</span>, col_types <span class="op">=</span> <span class="fu">BeeBDC</span><span class="fu">::</span><span class="fu"><a href="../reference/ColTypeR.html">ColTypeR</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">DataPath</span>, <span class="st">"/Additional_Datasets"</span>, </span>
<span>                           <span class="st">"/jbd_Dor_Data.csv"</span><span class="op">)</span>, col_types <span class="op">=</span> <span class="fu">BeeBDC</span><span class="fu">::</span><span class="fu"><a href="../reference/ColTypeR.html">ColTypeR</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>,</span>
<span><span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">DataPath</span>, <span class="st">"/Additional_Datasets"</span>, </span>
<span>                       <span class="st">"/jbd_VicWam_Data.csv"</span><span class="op">)</span>, col_types <span class="op">=</span> <span class="fu">BeeBDC</span><span class="fu">::</span><span class="fu"><a href="../reference/ColTypeR.html">ColTypeR</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>    <span class="co"># END bind_rows</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/warning.html" class="external-link">suppressWarnings</a></span><span class="op">(</span>classes <span class="op">=</span> <span class="st">"warning"</span><span class="op">)</span> <span class="co"># End suppressWarnings — due to col_types</span></span></code></pre>
</div>
<div class="section level4">
<h4 id="match-database_id">2.6 Match database_id<a class="anchor" aria-label="anchor" href="#match-database_id"></a>
</h4>
<p>If you have prior runs from which you’d like to match
<em>database_id</em>s with from the current run, you may use the below
script to try to match <em>database_id</em>s with prior runs.</p>
<p>Read in a prior run of choice.</p>
<pre><code><span>  <span class="va">priorRun</span> <span class="op">&lt;-</span> <span class="fu">BeeBDC</span><span class="fu">::</span><span class="fu"><a href="../reference/fileFinder.html">fileFinder</a></span><span class="op">(</span>path <span class="op">=</span> <span class="va">DataPath</span>,</span>
<span>                          file <span class="op">=</span> <span class="st">"01_prefilter_database_9Aug22.csv"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span>file <span class="op">=</span> <span class="va">.</span>, col_types <span class="op">=</span> <span class="fu">BeeBDC</span><span class="fu">::</span><span class="fu"><a href="../reference/ColTypeR.html">ColTypeR</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre>
<p>This function will attempt to find the <em>database_id</em>s from
prior runs.</p>
<pre><code><span>  <span class="va">db_standardized</span> <span class="op">&lt;-</span> <span class="fu">BeeBDC</span><span class="fu">::</span><span class="fu"><a href="../reference/idMatchR.html">idMatchR</a></span><span class="op">(</span></span>
<span>  currentData <span class="op">=</span> <span class="va">db_standardized</span>,</span>
<span>  priorData <span class="op">=</span> <span class="va">priorRun</span>,</span>
<span>    <span class="co"># First matches will be given preference over later ones</span></span>
<span>  matchBy <span class="op">=</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/lst.html" class="external-link">lst</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"gbifID"</span>, <span class="st">"dataSource"</span><span class="op">)</span>,</span>
<span>                        <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"catalogNumber"</span>, <span class="st">"institutionCode"</span>, <span class="st">"dataSource"</span>, <span class="st">"decimalLatitude"</span>,</span>
<span>                          <span class="st">"decimalLongitude"</span><span class="op">)</span>,</span>
<span>                        <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"occurrenceID"</span>, <span class="st">"dataSource"</span>,<span class="st">"decimalLatitude"</span>,<span class="st">"decimalLongitude"</span><span class="op">)</span>,</span>
<span>                        <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"recordId"</span>, <span class="st">"dataSource"</span>,<span class="st">"decimalLatitude"</span>,<span class="st">"decimalLongitude"</span><span class="op">)</span>,</span>
<span>                        <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"id"</span>, <span class="st">"dataSource"</span>,<span class="st">"decimalLatitude"</span>,<span class="st">"decimalLongitude"</span><span class="op">)</span>,</span>
<span>                        <span class="co"># Because INHS was entered as it's own dataset but is now included in the GBIF    download...</span></span>
<span>                        <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"catalogNumber"</span>, <span class="st">"institutionCode"</span>, <span class="st">"dataSource"</span>,</span>
<span>                          <span class="st">"decimalLatitude"</span>,<span class="st">"decimalLongitude"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    <span class="co"># You can exclude datasets from prior by matching their prefixs — before first underscore:</span></span>
<span>  excludeDataset <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ASP"</span>, <span class="st">"BMin"</span>, <span class="st">"BMont"</span>, <span class="st">"CAES"</span>, <span class="st">"EaCO"</span>, <span class="st">"Ecd"</span>, <span class="st">"EcoS"</span>,</span>
<span>                     <span class="st">"Gai"</span>, <span class="st">"KP"</span>, <span class="st">"EPEL"</span>, <span class="st">"CAES"</span>, <span class="st">"EaCO"</span>, <span class="st">"FSCA"</span>, <span class="st">"SMC"</span>, <span class="st">"Lic"</span>, <span class="st">"Arm"</span>,</span>
<span>                     <span class="st">"VicWam"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span> <span class="co"># Remove redundant files</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/rm.html" class="external-link">rm</a></span><span class="op">(</span><span class="va">priorRun</span><span class="op">)</span></span></code></pre>
<p>Save the dataset.</p>
<pre><code><span>  <span class="va">db_standardized</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/write_delim.html" class="external-link">write_excel_csv</a></span><span class="op">(</span><span class="va">.</span>,</span>
<span>                     <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">OutPath_Intermediate</span>, <span class="st">"00_prefilter_database.csv"</span>,</span>
<span>                           sep <span class="op">=</span> <span class="st">"/"</span><span class="op">)</span><span class="op">)</span></span></code></pre>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by James B. Dorey, Robert L. O’Reilly, Silas Bossert, Erica E. Fischer.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
