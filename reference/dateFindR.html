<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-gb"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Find dates in other columns — dateFindR • BeeBDC</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Find dates in other columns — dateFindR"><meta name="description" content="A function made to search other columns for dates and add them to the eventDate column.
The function searches the columns locality, fieldNotes, locationRemarks, and verbatimEventDate
for the relevant information. Additionally, for date ranges in the eventDate column, these will
Be translated into startDayOfYear and endDayOfYear and the eventDate will be kept as the last
date, but formatted in the correct format. Ambiguous dates that can't be parsed reliably as
day-month-year or month-day-year will be rounded to the nearest certainty; if month or day can
be identified with a spelled-out month or a day &amp;gt;12, these wil be correctly formatted.
Year-month-day... is the most-reliable format"><meta property="og:description" content="A function made to search other columns for dates and add them to the eventDate column.
The function searches the columns locality, fieldNotes, locationRemarks, and verbatimEventDate
for the relevant information. Additionally, for date ranges in the eventDate column, these will
Be translated into startDayOfYear and endDayOfYear and the eventDate will be kept as the last
date, but formatted in the correct format. Ambiguous dates that can't be parsed reliably as
day-month-year or month-day-year will be rounded to the nearest certainty; if month or day can
be identified with a spelled-out month or a day &amp;gt;12, these wil be correctly formatted.
Year-month-day... is the most-reliable format"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">BeeBDC</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.3.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html" aria-label="Go to package home"><span class="fa fa-home"></span></a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html" aria-label="Function list"><span class="fa fas fa-r"></span> Functions</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-occurrence-cleaning" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Occurrence data cleaning vignettes"><span class="fa fas fa-broom"></span> Occurrence cleaning</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-occurrence-cleaning"><li><a class="dropdown-item" href="../articles/BeeBDC_main.html">BeeBDC cleaning sections</a></li>
    <li><a class="dropdown-item" href="../articles/BeeBDC_main.html#data-merge">  1.0 Data merge</a></li>
    <li><a class="dropdown-item" href="../articles/BeeBDC_main.html#data-preparation">  2.0 Data preparation</a></li>
    <li><a class="dropdown-item" href="../articles/BeeBDC_main.html#initial-flags">  3.0 Initial flags</a></li>
    <li><a class="dropdown-item" href="../articles/BeeBDC_main.html#taxonomy">  4.0 Taxonomy</a></li>
    <li><a class="dropdown-item" href="../articles/BeeBDC_main.html#space">  5.0 Space</a></li>
    <li><a class="dropdown-item" href="../articles/BeeBDC_main.html#time">  6.0 Time</a></li>
    <li><a class="dropdown-item" href="../articles/BeeBDC_main.html#de-duplication">  7.0 De-duplication</a></li>
    <li><a class="dropdown-item" href="../articles/BeeBDC_main.html#data-filtering">  8.0 Data filtering</a></li>
    <li><a class="dropdown-item" href="../articles/BeeBDC_main.html#figures-and-tables">  9.0 Figures and tables</a></li>
    <li><a class="dropdown-item" href="../articles/basic_workflow.html">BeeBDC basic workflow</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-species-richness-estimation" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Species richness estimation vignettes"><span class="fa fas fa-arrow-up-right-dots"></span> Species richness estimation</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-species-richness-estimation"><li><a class="dropdown-item" href="../articles/speciesRichness_example.html">BeeBDC richness estimation</a></li>
    <li><a class="dropdown-item" href="../articles/speciesRichness_example.html#Parallel-estimations">  1.0 Parallel estimation</a></li>
    <li><a class="dropdown-item" href="../articles/speciesRichness_example.html#Estimating-richness-from-the-known-unknowns">  2.0 Estimation with checklists</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="https://jbdorey.github.io/BeeBDC/news/index.html"><span class="fa fas fa-newspaper"></span> News</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/jbdorey/BeeBDC/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Find dates in other columns</h1>
      <small class="dont-index">Source: <a href="https://github.com/jbdorey/BeeBDC/blob/devel/R/dateFindR.R" class="external-link"><code>R/dateFindR.R</code></a></small>
      <div class="d-none name"><code>dateFindR.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>A function made to search other columns for dates and add them to the eventDate column.
The function searches the columns locality, fieldNotes, locationRemarks, and verbatimEventDate
for the relevant information. Additionally, for date ranges in the eventDate column, these will
Be translated into startDayOfYear and endDayOfYear and the eventDate will be kept as the last
date, but formatted in the correct format. Ambiguous dates that can't be parsed reliably as
day-month-year or month-day-year will be rounded to the nearest certainty; if month or day can
be identified with a spelled-out month or a day &gt;12, these wil be correctly formatted.
Year-month-day... is the most-reliable format</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">dateFindR</span><span class="op">(</span>data <span class="op">=</span> <span class="cn">NULL</span>, maxYear <span class="op">=</span> <span class="fu">lubridate</span><span class="fu">::</span><span class="fu"><a href="https://lubridate.tidyverse.org/reference/year.html" class="external-link">year</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.Date</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>, minYear <span class="op">=</span> <span class="fl">1700</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>A data frame or tibble. Occurrence records as input.</p></dd>


<dt id="arg-maxyear">maxYear<a class="anchor" aria-label="anchor" href="#arg-maxyear"></a></dt>
<dd><p>Numeric. The maximum year considered reasonable to find.
Default = lubridate::year(Sys.Date()).</p></dd>


<dt id="arg-minyear">minYear<a class="anchor" aria-label="anchor" href="#arg-minyear"></a></dt>
<dd><p>Numeric. The minimum year considered reasonable to find. Default = 1700.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>The function results in the input occurrence data with but with updated eventDate, year,
month, and day columns for occurrences where these data were a) missing and b) located in one of the
searched columns.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Using the example dataset, you may not find any missing eventDates are rescued (dependent on </span></span></span>
<span class="r-in"><span><span class="co"># which version of the example dataset the user inputs.</span></span></span>
<span class="r-in"><span><span class="va">beesRaw_out</span> <span class="op">&lt;-</span> <span class="fu">dateFindR</span><span class="op">(</span>data <span class="op">=</span> <span class="va">beesRaw</span>,</span></span>
<span class="r-in"><span>                         <span class="co"># Years above this are removed (from the recovered dates only)</span></span></span>
<span class="r-in"><span>                         maxYear <span class="op">=</span> <span class="fu">lubridate</span><span class="fu">::</span><span class="fu"><a href="https://lubridate.tidyverse.org/reference/year.html" class="external-link">year</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.Date</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                         <span class="co"># Years below this are removed (from the recovered dates only)</span></span></span>
<span class="r-in"><span>                         minYear <span class="op">=</span> <span class="fl">1700</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - Preparing data...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - Extracting dates from year, month, day columns...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - Extracting dates from fieldNotes, locationRemarks, and verbatimEventDate columns in unambiguous ymd, dmy, mdy, and my formats...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - Extracting year from fieldNotes, locationRemarks, and verbatimEventDate columns in ambiguous formats...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - Formating and combining the new data..</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - Merging all data, nearly there...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - Finished. </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> We now have 1 more full eventDate cells than in the input data.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> We modified dates in </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 89 occurrences.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - As it stands, there are 89 complete eventDates and 11 missing dates.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - There are also 89 complete year occurrences to filter from. This is up from an initial count of 88 At this rate, you will stand to lose 11 occurrences on the basis of missing year - Operation time: 0.455987691879272 secs</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by James B. Dorey, Robert L. O’Reilly, Silas Bossert, Erica E. Fischer.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

