<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Create or update the .summary flag column — summaryFun • BeeBDC</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/lumen/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Create or update the .summary flag column — summaryFun"><meta property="og:description" content='Using all flag columns (column names starting with "."), this function either creates or updates
the .summary flag column which is FALSE when ANY of the flag columns are FALSE. Columns can be excluded
and removed after creating the .summary column. Additionally, the occurrence dataset
can be filtered to only those where .summary = TRUE at the end of the function.'><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">BeeBDC</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fas fa-book"></span>
     
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/BeeBDC_main.html">BeeBDC vignette</a>
    </li>
    <li>
      <a href="../articles/BeeBDC_main.html#data-merge">  1.0 Data merge</a>
    </li>
    <li>
      <a href="../articles/BeeBDC_main.html#data-preparation">  2.0 Data preparation</a>
    </li>
    <li>
      <a href="../articles/BeeBDC_main.html#initial-flags">  3.0 Initial flags</a>
    </li>
    <li>
      <a href="../articles/BeeBDC_main.html#taxonomy">  4.0 Taxonomy</a>
    </li>
    <li>
      <a href="../articles/BeeBDC_main.html#space">  5.0 Space</a>
    </li>
    <li>
      <a href="../articles/BeeBDC_main.html#time">  6.0 Time</a>
    </li>
    <li>
      <a href="../articles/BeeBDC_main.html#de-duplication">  7.0 De-duplication</a>
    </li>
    <li>
      <a href="../articles/BeeBDC_main.html#data-filtering">  8.0 Data filtering</a>
    </li>
    <li>
      <a href="../articles/BeeBDC_main.html#figures-and-tables">  9.0 Figures and tables</a>
    </li>
    <li>
      <a href="../articles/basic_workflow.html">Basic workflow</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/jbdorey/BeeBDC/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create or update the .summary flag column</h1>
    <small class="dont-index">Source: <a href="https://github.com/jbdorey/BeeBDC/blob/HEAD/R/summaryFun.R" class="external-link"><code>R/summaryFun.R</code></a></small>
    <div class="hidden name"><code>summaryFun.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Using all flag columns (column names starting with "."), this function either creates or updates
the .summary flag column which is FALSE when ANY of the flag columns are FALSE. Columns can be excluded
and removed after creating the .summary column. Additionally, the occurrence dataset
can be filtered to only those where .summary = TRUE at the end of the function.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">summaryFun</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  dontFilterThese <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  removeFilterColumns <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  filterClean <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>data</dt>
<dd><p>A data frame or tibble. Occurrence records to use as input.</p></dd>


<dt>dontFilterThese</dt>
<dd><p>A character vector of flag columns to be ignored in the creation or updating
of the .summary column.</p></dd>


<dt>removeFilterColumns</dt>
<dd><p>Logical. If TRUE all columns starting with "." will be removed in the
output data. This only makes sense to use when filterClean = TRUE. Default = FALSE.</p></dd>


<dt>filterClean</dt>
<dd><p>Logical. If TRUE, the data will be filtered to only those occurrence where .summary
= TRUE (i.e., completely clean according to the used flag columns). Default = FALSE.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>Returns a data frame or tibble of the input data but modified based on the above parameters.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Read in example data</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">beesFlagged</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># To only update the .summary column</span></span></span>
<span class="r-in"><span><span class="va">beesFlagged_out</span> <span class="op">&lt;-</span> <span class="fu">summaryFun</span><span class="op">(</span></span></span>
<span class="r-in"><span>    data <span class="op">=</span> <span class="va">beesFlagged</span>,</span></span>
<span class="r-in"><span>    dontFilterThese <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">".gridSummary"</span>, <span class="st">".lonFlag"</span>, <span class="st">".latFlag"</span>, <span class="st">".uncer_terms"</span>, <span class="st">".unLicensed"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    removeFilterColumns <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>    filterClean <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - We will NOT flag the following columns. However, they will remain in the data file.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> .gridSummary, .lonFlag, .latFlag, .uncer_terms, .unLicensed</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  - summaryFun:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Flagged 81 </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   The .summary column was added to the database.</span>
<span class="r-in"><span>  <span class="co"># View output</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">beesFlagged_out</span><span class="op">$</span><span class="va">.summary</span>, useNA <span class="op">=</span> <span class="st">"always"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> FALSE  TRUE  &lt;NA&gt; </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    81    19     0 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Now filter to only the clean data and remove the flag columns</span></span></span>
<span class="r-in"><span><span class="va">beesFlagged_out</span> <span class="op">&lt;-</span> <span class="fu">summaryFun</span><span class="op">(</span></span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="fu">BeeBDC</span><span class="fu">::</span><span class="va"><a href="beesFlagged.html">beesFlagged</a></span>,</span></span>
<span class="r-in"><span>  dontFilterThese <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">".gridSummary"</span>, <span class="st">".lonFlag"</span>, <span class="st">".latFlag"</span>, <span class="st">".uncer_terms"</span>, <span class="st">".unLicensed"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  removeFilterColumns <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>  filterClean <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - We will NOT flag the following columns. However, they will remain in the data file.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> .gridSummary, .lonFlag, .latFlag, .uncer_terms, .unLicensed</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  - summaryFun:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Flagged 81 </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   The .summary column was added to the database.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  - REMOVED all occurrences that were FALSE for the 'summary' column.</span>
<span class="r-in"><span><span class="co"># View output</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">beesFlagged_out</span><span class="op">$</span><span class="va">.summary</span>, useNA <span class="op">=</span> <span class="st">"always"</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Unknown or uninitialised column: `.summary`.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;NA&gt; </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    0 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by James B. Dorey, Robert L. O’Reilly, Silas Bossert, Erica E. Fischer.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

