<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-gb"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Parallel estimation of species richness in a community using iNEXT — iNEXTwrapper • BeeBDC</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Parallel estimation of species richness in a community using iNEXT — iNEXTwrapper"><meta name="description" content="A wrapper for iNEXT::iNEXT() to interpolate and extrapolate Hill numbers with order q
(rarify species richness). The wrapper has the ability to estimate species richness for
multiple sites (or countries) at once and to do this using multiple cores."><meta property="og:description" content="A wrapper for iNEXT::iNEXT() to interpolate and extrapolate Hill numbers with order q
(rarify species richness). The wrapper has the ability to estimate species richness for
multiple sites (or countries) at once and to do this using multiple cores."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">BeeBDC</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.3.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html" aria-label="Go to package home"><span class="fa fa-home"></span></a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html" aria-label="Function list"><span class="fa fas fa-r"></span> Functions</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-occurrence-cleaning" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Occurrence data cleaning vignettes"><span class="fa fas fa-broom"></span> Occurrence cleaning</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-occurrence-cleaning"><li><a class="dropdown-item" href="../articles/BeeBDC_main.html">BeeBDC full cleaning workflow (0.0–9.0)</a></li>
    <li><a class="dropdown-item" href="../articles/basic_workflow.html">BeeBDC basic workflow</a></li>
    <li><a class="dropdown-item" href="../articles/dataPrep.html">Bee-specific data preparation</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-species-richness-estimation" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Species richness estimation vignettes"><span class="fa fas fa-arrow-up-right-dots"></span> Species richness estimation</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-species-richness-estimation"><li><a class="dropdown-item" href="../articles/speciesRichness_example.html">BeeBDC richness estimation</a></li>
    <li><a class="dropdown-item" href="../articles/speciesRichness_example.html#Parallel-estimations">  1.0 Parallel estimation</a></li>
    <li><a class="dropdown-item" href="../articles/speciesRichness_example.html#Estimating-richness-from-the-known-unknowns">  2.0 Estimation with checklists</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="https://jbdorey.github.io/BeeBDC/news/index.html"><span class="fa fas fa-newspaper"></span> News</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/jbdorey/BeeBDC/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Parallel estimation of species richness in a community using iNEXT</h1>
      <small class="dont-index">Source: <a href="https://github.com/jbdorey/BeeBDC/blob/main/R/iNEXTwrapper.R" class="external-link"><code>R/iNEXTwrapper.R</code></a></small>
      <div class="d-none name"><code>iNEXTwrapper.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>A wrapper for <code><a href="https://rdrr.io/pkg/iNEXT/man/iNEXT.html" class="external-link">iNEXT::iNEXT()</a></code> to interpolate and extrapolate Hill numbers with order q
(rarify species richness). The wrapper has the ability to estimate species richness for
multiple sites (or countries) at once and to do this using multiple cores.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">iNEXTwrapper</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  variableColumn <span class="op">=</span> <span class="st">"groupVariable"</span>,</span>
<span>  valueColumn <span class="op">=</span> <span class="st">"n"</span>,</span>
<span>  q <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  datatype <span class="op">=</span> <span class="st">"abundance"</span>,</span>
<span>  conf <span class="op">=</span> <span class="fl">0.95</span>,</span>
<span>  se <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  nboot <span class="op">=</span> <span class="fl">50</span>,</span>
<span>  size <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  endpoint <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  knots <span class="op">=</span> <span class="fl">40</span>,</span>
<span>  mc.cores <span class="op">=</span> <span class="fl">1</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>A data frame or tibble. A data frame containing "abundance"-type data per variable
(population, country, species...) in columns.</p></dd>


<dt id="arg-variablecolumn">variableColumn<a class="anchor" aria-label="anchor" href="#arg-variablecolumn"></a></dt>
<dd><p>Character. The column to be used to group the data. Probably "country"
or "site". Default =  "groupVariable".</p></dd>


<dt id="arg-valuecolumn">valueColumn<a class="anchor" aria-label="anchor" href="#arg-valuecolumn"></a></dt>
<dd><p>Character. The column containing the count data. Defualt =  "n".</p></dd>


<dt id="arg-q">q<a class="anchor" aria-label="anchor" href="#arg-q"></a></dt>
<dd><p>a number or vector specifying the richness order(s) of Hill numbers.</p></dd>


<dt id="arg-datatype">datatype<a class="anchor" aria-label="anchor" href="#arg-datatype"></a></dt>
<dd><p>data type of input data: individual-based abundance data
(datatype = "abundance"), sampling-unit-based incidence frequencies data
(datatype = "incidence_freq") or species by sampling-units incidence matrix
(datatype = "incidence_raw").</p></dd>


<dt id="arg-conf">conf<a class="anchor" aria-label="anchor" href="#arg-conf"></a></dt>
<dd><p>a positive number &lt; 1 specifying the level of confidence interval; default is 0.95.</p></dd>


<dt id="arg-se">se<a class="anchor" aria-label="anchor" href="#arg-se"></a></dt>
<dd><p>a logical variable to calculate the bootstrap standard error and conf confidence
interval.</p></dd>


<dt id="arg-nboot">nboot<a class="anchor" aria-label="anchor" href="#arg-nboot"></a></dt>
<dd><p>an integer specifying the number of replications; default is 50.</p></dd>


<dt id="arg-size">size<a class="anchor" aria-label="anchor" href="#arg-size"></a></dt>
<dd><p>an integer vector of sample sizes (number of individuals or sampling units) for
which richness estimates will be computed. If NULL, then richness estimates will be computed
for those sample sizes determined by the specified/default endpoint and knots.</p></dd>


<dt id="arg-endpoint">endpoint<a class="anchor" aria-label="anchor" href="#arg-endpoint"></a></dt>
<dd><p>an integer specifying the sample size that is the endpoint for
rarefaction/extrapolation. If NULL, then endpoint = double the reference sample size.</p></dd>


<dt id="arg-knots">knots<a class="anchor" aria-label="anchor" href="#arg-knots"></a></dt>
<dd><p>an integer specifying the number of equally-spaced knots (say K, default is 40)
between size 1 and the endpoint; each knot represents a particular sample size for which
richness estimate will be calculated. If the endpoint is smaller than the reference sample
size, then iNEXT() computes only the rarefaction esimates for approximately K evenly spaced
knots. If the endpoint is larger than the reference sample size, then iNEXT() computes
rarefaction estimates for approximately K/2 evenly spaced knots between sample size 1 and
the reference sample size, and computes extrapolation estimates for approximately K/2 evenly
spaced knots between the reference sample size and the endpoint.</p></dd>


<dt id="arg-mc-cores">mc.cores<a class="anchor" aria-label="anchor" href="#arg-mc-cores"></a></dt>
<dd><p>Numeric. If &gt; 1, the function will run in parallel
using mclapply using the number of cores specified. If = 1 then it will be run using a serial
loop. NOTE: Windows machines must use a value of 1 (see ?parallel::mclapply). Additionally,
be aware that each thread can use large chunks of memory.
Default = 1.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Returns a list containing two tibbles. The first is a tibble that concatenates the outputs
from the basic data and rare species information in columns per input variable (column). The second is a tibble
that concatenates the various species richness estimates, with input variables in chunks of rows.
Additionally a console output will list the variables (columns) that lacked sufficient data
to be analysed.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="https://rdrr.io/pkg/iNEXT/man/iNEXT.html" class="external-link">iNEXT::iNEXT()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span>  <span class="co"># Read in some example data and use [BeeBDC::richnessPrepR()] to create the example input data</span></span></span>
<span class="r-in"><span> <span class="co">#' data(beesCountrySubset)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">estimateDataExample</span> <span class="op">&lt;-</span> <span class="fu">BeeBDC</span><span class="fu">::</span><span class="fu"><a href="richnessPrepR.html">richnessPrepR</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">beesCountrySubset</span>,</span></span>
<span class="r-in"><span>  <span class="co"># Download the taxonomy</span></span></span>
<span class="r-in"><span>  taxonomyFile <span class="op">=</span> <span class="fu">BeeBDC</span><span class="fu">::</span><span class="fu"><a href="beesTaxonomy.html">beesTaxonomy</a></span><span class="op">(</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="co"># Download the checklist</span></span></span>
<span class="r-in"><span>  checklistFile <span class="op">=</span> <span class="fu">BeeBDC</span><span class="fu">::</span><span class="fu"><a href="beesChecklist.html">beesChecklist</a></span><span class="op">(</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  curveFunction <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">(</span><span class="fl">228.7531</span> <span class="op">*</span> <span class="va">x</span> <span class="op">*</span> <span class="va">x</span><span class="op">^</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">12.1593</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  sampleSize <span class="op">=</span> <span class="fl">10000</span>,</span></span>
<span class="r-in"><span>  countryColumn <span class="op">=</span> <span class="st">"country_suggested"</span>,</span></span>
<span class="r-in"><span>  limitGlobal <span class="op">=</span> <span class="cn">NULL</span>,</span></span>
<span class="r-in"><span>  outPath <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># In this function we can directly feed in estimateDataExample$site_speciesCounts </span></span></span>
<span class="r-in"><span> <span class="va">iNextOut</span> <span class="op">&lt;-</span> <span class="fu">iNEXTwrapper</span><span class="op">(</span>data <span class="op">=</span> <span class="va">estimateDataExample</span><span class="op">$</span><span class="va">site_speciesCounts</span>,</span></span>
<span class="r-in"><span>                          variableColumn <span class="op">=</span> <span class="st">"country_suggested"</span>,</span></span>
<span class="r-in"><span>                          valueColumn <span class="op">=</span> <span class="st">"n"</span>,</span></span>
<span class="r-in"><span>                          q <span class="op">=</span> <span class="fl">0</span>,</span></span>
<span class="r-in"><span>                          datatype <span class="op">=</span> <span class="st">"abundance"</span>,</span></span>
<span class="r-in"><span>                          conf <span class="op">=</span> <span class="fl">0.95</span>,</span></span>
<span class="r-in"><span>                          se <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>                          nboot <span class="op">=</span> <span class="fl">50</span>,</span></span>
<span class="r-in"><span>                          size <span class="op">=</span> <span class="cn">NULL</span>,</span></span>
<span class="r-in"><span>                          endpoint <span class="op">=</span> <span class="cn">NULL</span>,</span></span>
<span class="r-in"><span>                          knots <span class="op">=</span> <span class="fl">40</span>,</span></span>
<span class="r-in"><span>                          mc.cores <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by James B. Dorey, Robert L. O’Reilly, Silas Bossert, Erica E. Fischer.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

