<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-gb"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Estimate country, continental, and global species richnesses — richnessEstimateR • BeeBDC</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Estimate country, continental, and global species richnesses — richnessEstimateR"><meta name="description" content="Takes an output dataset from richnessPrepR() to estimate species richness using
iChao and iNEXT (hill numbers) for countries, continents, and/or the entire globe."><meta property="og:description" content="Takes an output dataset from richnessPrepR() to estimate species richness using
iChao and iNEXT (hill numbers) for countries, continents, and/or the entire globe."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">BeeBDC</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.3.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html" aria-label="Go to package home"><span class="fa fa-home"></span></a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html" aria-label="Function list"><span class="fa fas fa-r"></span> Functions</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-occurrence-cleaning" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Occurrence data cleaning vignettes"><span class="fa fas fa-broom"></span> Occurrence cleaning</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-occurrence-cleaning"><li><a class="dropdown-item" href="../articles/BeeBDC_main.html">BeeBDC cleaning sections</a></li>
    <li><a class="dropdown-item" href="../articles/BeeBDC_main.html#data-merge">  1.0 Data merge</a></li>
    <li><a class="dropdown-item" href="../articles/BeeBDC_main.html#data-preparation">  2.0 Data preparation</a></li>
    <li><a class="dropdown-item" href="../articles/BeeBDC_main.html#initial-flags">  3.0 Initial flags</a></li>
    <li><a class="dropdown-item" href="../articles/BeeBDC_main.html#taxonomy">  4.0 Taxonomy</a></li>
    <li><a class="dropdown-item" href="../articles/BeeBDC_main.html#space">  5.0 Space</a></li>
    <li><a class="dropdown-item" href="../articles/BeeBDC_main.html#time">  6.0 Time</a></li>
    <li><a class="dropdown-item" href="../articles/BeeBDC_main.html#de-duplication">  7.0 De-duplication</a></li>
    <li><a class="dropdown-item" href="../articles/BeeBDC_main.html#data-filtering">  8.0 Data filtering</a></li>
    <li><a class="dropdown-item" href="../articles/BeeBDC_main.html#figures-and-tables">  9.0 Figures and tables</a></li>
    <li><a class="dropdown-item" href="../articles/basic_workflow.html">BeeBDC basic workflow</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-species-richness-estimation" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Species richness estimation vignettes"><span class="fa fas fa-arrow-up-right-dots"></span> Species richness estimation</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-species-richness-estimation"><li><a class="dropdown-item" href="../articles/speciesRichness_example.html">BeeBDC richness estimation</a></li>
    <li><a class="dropdown-item" href="../articles/speciesRichness_example.html#Parallel-estimations">  1.0 Parallel estimation</a></li>
    <li><a class="dropdown-item" href="../articles/speciesRichness_example.html#Estimating-richness-from-the-known-unknowns">  2.0 Estimation with checklists</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="https://jbdorey.github.io/BeeBDC/news/index.html"><span class="fa fas fa-newspaper"></span> News</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/jbdorey/BeeBDC/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Estimate country, continental, and global species richnesses</h1>
      <small class="dont-index">Source: <a href="https://github.com/jbdorey/BeeBDC/blob/devel/R/richnessEstimateR.R" class="external-link"><code>R/richnessEstimateR.R</code></a></small>
      <div class="d-none name"><code>richnessEstimateR.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Takes an output dataset from <code><a href="richnessPrepR.html">richnessPrepR()</a></code> to estimate species richness using
iChao and iNEXT (hill numbers) for countries, continents, and/or the entire globe.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">richnessEstimateR</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  sampleSize <span class="op">=</span> <span class="fl">10000</span>,</span>
<span>  countrySamples <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  continentSamples <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  globalSamples <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  countriesToExclude <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  mc.cores <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  k <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  filterToRecordedCountries <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  outPath <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  fileName <span class="op">=</span> <span class="st">"continentSampled.pdf"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>an RData file created using the <code><a href="richnessPrepR.html">richnessPrepR()</a></code> function.</p></dd>


<dt id="arg-samplesize">sampleSize<a class="anchor" aria-label="anchor" href="#arg-samplesize"></a></dt>
<dd><p>Numeric. The size of the sample randomly drawn from the provided curve.
See <code>curveFunction</code>. Default = 10000.</p></dd>


<dt id="arg-countrysamples">countrySamples<a class="anchor" aria-label="anchor" href="#arg-countrysamples"></a></dt>
<dd><p>Numeric. The number of times to sample the country species richness for both
iChao and iNEXT. If equal to zero (0), then this will not be analysed. Default = 5.</p></dd>


<dt id="arg-continentsamples">continentSamples<a class="anchor" aria-label="anchor" href="#arg-continentsamples"></a></dt>
<dd><p>Numeric. The number of times to sample the continent species richness for both
iChao and iNEXT. If equal to zero (0), then this will not be analysed. Default = 5.</p></dd>


<dt id="arg-globalsamples">globalSamples<a class="anchor" aria-label="anchor" href="#arg-globalsamples"></a></dt>
<dd><p>Numeric. The number of times to sample the global species richness for both
iChao and iNEXT. If equal to zero (0), then this will not be analysed. Default = 5.</p></dd>


<dt id="arg-countriestoexclude">countriesToExclude<a class="anchor" aria-label="anchor" href="#arg-countriestoexclude"></a></dt>
<dd><p>Character vector. You may decide to excluse some countries if they are
being problematic or their sample sizes are too small. Default = NULL.</p></dd>


<dt id="arg-mc-cores">mc.cores<a class="anchor" aria-label="anchor" href="#arg-mc-cores"></a></dt>
<dd><p>Numeric. If &gt; 1, the function will run in parallel
using mclapply using the number of cores specified. If = 1 then it will be run using a serial
loop. NOTE: Windows machines must use a value of 1 (see ?parallel::mclapply). Additionally,
be aware that each thread can use large chunks of memory.
Default = 1.</p></dd>


<dt id="arg-k">k<a class="anchor" aria-label="anchor" href="#arg-k"></a></dt>
<dd><p>Numeric. For iChao; the cut-off point (default = 10), which separates species into "abundant" and "rare"
groups for abundance data for the estimator ACE; it separates species into "frequent" and
"infrequent" groups for incidence data for the estimator ICE.
Default = 10.</p></dd>


<dt id="arg-filtertorecordedcountries">filterToRecordedCountries<a class="anchor" aria-label="anchor" href="#arg-filtertorecordedcountries"></a></dt>
<dd><p>Logical. If TRUE, the checklist will be filtered to the countries
Where occurrence records were found. Default = TRUE. Change at your own peril.</p></dd>


<dt id="arg-outpath">outPath<a class="anchor" aria-label="anchor" href="#arg-outpath"></a></dt>
<dd><p>A directory as character. Directory where to save output figure. Default = tempdir().</p></dd>


<dt id="arg-filename">fileName<a class="anchor" aria-label="anchor" href="#arg-filename"></a></dt>
<dd><p>A character vector with file name
for the output figure, ending with '.pdf'. Default = "continentSampled.pdf".</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Outputs an R file with four tables ("Summary", "SiteOutput", "ContinentOutput", and
"GlobalOutput"; depending on the number required). The summary table shows the Median overall
estimates, while the remaining three shows the outputs from each iteration (useful for plotting,
see relevant vignette). Some figures may also be saved to the selected outPath.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="countryHarmoniseR.html">countryHarmoniseR()</a></code> to harmonise country names based on a short list;
<code><a href="richnessPrepR.html">richnessPrepR()</a></code> to produce the input data and for the required column names; as well
as <code><a href="ChaoWrapper.html">ChaoWrapper()</a></code> and <code><a href="iNEXTwrapper.html">iNEXTwrapper()</a></code> for the parallelised implementation of
<code>SpadeR</code> and <code>iNEXT</code> functions.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># Use the example data </span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">beesCountrySubset</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># First, </span></span></span>
<span class="r-in"><span><span class="va">estimateDataExample</span> <span class="op">&lt;-</span> <span class="fu">BeeBDC</span><span class="fu">::</span><span class="fu"><a href="richnessPrepR.html">richnessPrepR</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">beesCountrySubset</span>,</span></span>
<span class="r-in"><span>  <span class="co"># Download the taxonomy</span></span></span>
<span class="r-in"><span>  taxonomyFile <span class="op">=</span> <span class="fu">BeeBDC</span><span class="fu">::</span><span class="fu"><a href="beesTaxonomy.html">beesTaxonomy</a></span><span class="op">(</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="co"># Download the checklist</span></span></span>
<span class="r-in"><span>  checklistFile <span class="op">=</span> <span class="fu">BeeBDC</span><span class="fu">::</span><span class="fu"><a href="beesChecklist.html">beesChecklist</a></span><span class="op">(</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  curveFunction <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">(</span><span class="fl">228.7531</span> <span class="op">*</span> <span class="va">x</span> <span class="op">*</span> <span class="va">x</span><span class="op">^</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">12.1593</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  sampleSize <span class="op">=</span> <span class="fl">10000</span>,</span></span>
<span class="r-in"><span>  countryColumn <span class="op">=</span> <span class="st">"country_suggested"</span>,</span></span>
<span class="r-in"><span>  limitGlobal <span class="op">=</span> <span class="cn">NULL</span>,</span></span>
<span class="r-in"><span>  outPath <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span> <span class="va">exampleEstimate</span> <span class="op">&lt;-</span> <span class="fu">richnessEstimateR</span><span class="op">(</span></span></span>
<span class="r-in"><span>   data <span class="op">=</span> <span class="va">estimateDataExample</span>,</span></span>
<span class="r-in"><span>   sampleSize <span class="op">=</span> <span class="fl">10000</span>,</span></span>
<span class="r-in"><span>   countrySamples <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>   continentSamples <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>   globalSamples <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>   filterToRecordedCountries <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>   mc.cores <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>   <span class="co"># Directory where to save files</span></span></span>
<span class="r-in"><span>   outPath <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>   fileName <span class="op">=</span> <span class="st">"Sampled.pdf"</span></span></span>
<span class="r-in"><span> <span class="op">)</span></span></span>
<span class="r-in"><span> </span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># } # END dontrun</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by James B. Dorey, Robert L. O’Reilly, Silas Bossert, Erica E. Fischer.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

